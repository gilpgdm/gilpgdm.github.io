<muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;!DOCTYPE</span> <span
     style="color: #e50000;">html</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;html</span> <span
     style="color: #e50000;">lang</span>=<span
     style="color: #0000ff;">"es"</span><span
     style="color: #800000;">&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;head&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">charset</span>=<span
     style="color: #0000ff;">"utf-8"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #e50000;">name</span>=<span
     style="color: #0000ff;">"viewport"</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">content</span>=<span
     style="color: #0000ff;">"width=device-width"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;title&gt;</span>IoT<span
     style="color: #800000;">&lt;/title&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"./lib/js/custom/indicador-cargando.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #e50000;">src</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"paho.javascript-1.0.3/paho-mqtt-min.js"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/head&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;body&gt;</span></div><br>
  <div>&nbsp;<span
     style="color: #800000;">&lt;h1&gt;</span>IoT<span
     style="color: #800000;">&lt;/h1&gt;</span></div><br>
  <div>&nbsp;<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;output</span> <span
     style="color: #e50000;">id</span>=<span
     style="color: #0000ff;">"salida"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;indicador-cargando&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/indicador-cargando&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/output&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span></div><br>
  <div>&nbsp;<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;button</span> <span
     style="color: #e50000;">id</span>=<span
     style="color: #0000ff;">"btnEnviar"</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">type</span>=<span
     style="color: #0000ff;">"button"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;Enviar</div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/button&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span></div><br>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span><span
     style="color: #000000;"> </span><span
     style="color: #e50000;">type</span><span
     style="color: #000000;">=</span><span
     style="color: #0000ff;">"module"</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{ </span><span
     style="color: #001080;">creaClientId</span><span
     style="color: #000000;"> }</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/creaClientId.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{ </span><span
     style="color: #001080;">muestraError</span><span
     style="color: #000000;"> }</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/muestraError.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">falloEnLaConexion</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/falloEnLaConexion.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{ </span><span
     style="color: #001080;">txtConectado</span><span
     style="color: #000000;"> }</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/txt/txtConectado.js"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">import</span><span
     style="color: #000000;">&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">plantillaConexionPerdida</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">from</span><span
     style="color: #000000;"> </span><span
     style="color: #a31515;">"./lib/js/plantilla/plantillaConexionPerdida.js"</span>
  </div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #af00db;">try</span><span
     style="color: #000000;">&nbsp;{</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">let</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">valor</span><span
     style="color: #000000;"> = </span><span
     style="color: #a31515;">"0"</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #008000;">/*&nbsp;A cada control le corresponde</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;un tópico diferente.
    */</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">TOPICO_FOCO</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"gilpgdm/IoT/foco"</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #008000;">/*&nbsp;Cambia por una raíz para tu</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;proyecto. */</span>
  </div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">clientId</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">creaClientId</span><span
     style="color: #000000;">(</span><span
     style="color: #a31515;">"gilpgdmIoT-"</span><span
     style="color: #000000;">)</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #008000;">/*&nbsp;Si usas un servidor de MQTT</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;diferente necesitas
    cambiar</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;los parámetros.
    */</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">cliente</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">Paho</span><span
     style="color: #000000;">.</span><span
     style="color: #0070c1;">MQTT</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">Client</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"test.mosquitto.org"</span><span
     style="color: #000000;">, </span><span
     style="color: #098658;">8081</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0070c1;">clientId</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0070c1;">cliente</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">onMessageArrived</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">recibeMensaje</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0070c1;">cliente</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">onConnectionLost</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">conexionPerdida</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0070c1;">cliente</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">connect</span><span
     style="color: #000000;">({</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">onSuccess</span><span
     style="color: #001080;">:</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">conectado</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">onFailure</span><span
     style="color: #001080;">:</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">falloEnLaConexion</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">keepAliveInterval</span><span
     style="color: #001080;">:</span><span
     style="color: #000000;"> </span><span
     style="color: #098658;">10</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">useSSL</span><span
     style="color: #001080;">:</span><span
     style="color: #000000;"> </span><span
     style="color: #0000ff;">true</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;})</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">conectado</span><span
     style="color: #000000;">()&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">console</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">log</span><span
     style="color: #000000;">(</span><span
     style="color: #795e26;">txtConectado</span><span
     style="color: #000000;">())</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0070c1;">cliente</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">subscribe</span><span
     style="color: #000000;">(</span><span
     style="color: #0070c1;">TOPICO_FOCO</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">enviaMensajeMqtt</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">valor</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0070c1;">TOPICO_FOCO</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">btnEnviar</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">addEventListener</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"click"</span><span
     style="color: #000000;">, </span><span
     style="color: #795e26;">enviaMensaje</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Envá un valoral
    servidor de</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;MQTT y es reenviado
    a todos</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;los dispositivos
    suscritos al</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;tópico
    indicado</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">valorAEnviar</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">topico</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;*/</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">enviaMensajeMqtt</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">valorAEnviar</span><span
     style="color: #000000;">, </span><span
     style="color: #001080;">topico</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">mensaje</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">new</span><span
     style="color: #000000;"> </span><span
     style="color: #001080;">Paho</span><span
     style="color: #000000;">.</span><span
     style="color: #0070c1;">MQTT</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">Message</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">valorAEnviar</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0070c1;">mensaje</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">destinationName</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">topico</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0070c1;">cliente</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">send</span><span
     style="color: #000000;">(</span><span
     style="color: #0070c1;">mensaje</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">enviaMensaje</span><span
     style="color: #000000;">()&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">enviaMensajeMqtt</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">valor</span><span
     style="color: #000000;"> === </span><span
     style="color: #a31515;">"1"</span><span
     style="color: #000000;"> ? </span><span
     style="color: #a31515;">"0"</span><span
     style="color: #000000;"> : </span><span
     style="color: #a31515;">"1"</span><span
     style="color: #000000;">,</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0070c1;">TOPICO_FOCO</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{Paho.MQTT.Message</span></div>
  <div><span
     style="color: #267f99;">&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">mensaje</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;*/</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">recibeMensaje</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">mensaje</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">mensaje</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">destinationName</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=== </span><span
     style="color: #0070c1;">TOPICO_FOCO</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">valor</span><span
     style="color: #000000;"> = </span><span
     style="color: #001080;">mensaje</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">payloadString</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">salida</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">value</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">valor</span><span
     style="color: #000000;"> === </span><span
     style="color: #a31515;">"1"</span><span
     style="color: #000000;"> ? </span><span
     style="color: #a31515;">"🔴"</span><span
     style="color: #000000;"> : </span><span
     style="color: #a31515;">"⚪"</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}&nbsp;</span><span
     style="color: #af00db;">catch</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">muestraError</span><span
     style="color: #000000;">(</span><span
     style="color: #001080;">e</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;{{</span></div><div><span
  style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;errorCode: number,</span></div><div><span
  style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;errorMessage: string</span></div><div><span
  style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;}}&nbsp;responseObject</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;*/</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;</span><span
     style="color: #0000ff;">function</span><span
     style="color: #000000;"> </span><span
     style="color: #795e26;">conexionPerdida</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">responseObject</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;</span><span
     style="color: #af00db;">if</span><span
     style="color: #000000;"> (</span><span
     style="color: #001080;">responseObject</span><span
     style="color: #000000;">.</span><span
     style="color: #001080;">errorCode</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;!== </span><span
     style="color: #098658;">0</span><span
     style="color: #000000;">)&nbsp;{</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #0000ff;">const</span><span
     style="color: #000000;"> </span><span
     style="color: #0070c1;">mensaje</span><span
     style="color: #000000;"> =</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">plantillaConexionPerdida</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">responseObject</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">console</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">error</span><span
     style="color: #000000;">(</span><span
     style="color: #0070c1;">mensaje</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #795e26;">alert</span><span
     style="color: #000000;">(</span><span
     style="color: #0070c1;">mensaje</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #001080;">btnEnviar</span><span
     style="color: #000000;">.</span><span
     style="color: #795e26;">removeEventListener</span><span
     style="color: #000000;">(</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
     style="color: #a31515;">"click"</span><span
     style="color: #000000;">, </span><span
     style="color: #001080;">enviaMensaje</span><span
     style="color: #000000;">)</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;&nbsp;}</span></div>
  <div><span
     style="color: #000000;">&nbsp;&nbsp;}</span></div><br>
  <div><span
     style="color: #000000;">&nbsp;</span><span
     style="color: #800000;">&lt;/script&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;/body&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;/html&gt;</span></div>
 </div>
</muestra-codigo>