<muestra-codigo>
 <div>
  <div><span
     style="color: #af00db;">import</span>&nbsp;{ <span
     style="color: #001080;">getAttribute</span> }&nbsp;<span
     style="color: #af00db;">from</span> <span
     style="color: #a31515;">"../getAttribute.js"</span></div>
  <div><span
     style="color: #af00db;">import</span>&nbsp;{ <span
     style="color: #001080;">querySelector</span> }&nbsp;<span
     style="color: #af00db;">from</span> <span
     style="color: #a31515;">"../querySelector.js"</span></div>
  <div><span
     style="color: #af00db;">import</span>&nbsp;{ <span
     style="color: #001080;">setBooleanAttribute</span> }&nbsp;<span
     style="color: #af00db;">from</span> <span
     style="color: #a31515;">"../setBooleanAttribute.js"</span></div>
  <div><span
     style="color: #af00db;">import</span>&nbsp;{ <span
     style="color: #001080;">MdFilledTextField</span> }&nbsp;<span
     style="color: #af00db;">from</span> <span
     style="color: #a31515;">"./md-filled-text-field.js"</span></div>
  <div><span
     style="color: #af00db;">import</span>&nbsp;{ <span
     style="color: #001080;">MdOptionsMenu</span> }&nbsp;<span
     style="color: #af00db;">from</span> <span
     style="color: #a31515;">"./md-options-menu.js"</span></div><br>
  <div><span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">class</span> <span
     style="color: #267f99;">MdSelectMenu</span> <span
     style="color: #0000ff;">extends</span> <span
     style="color: #267f99;">HTMLElement</span>&nbsp;{</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">static</span> <span
     style="color: #0000ff;">get</span> <span
     style="color: #001080;">observedAttributes</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">return</span> [<span
     style="color: #a31515;">"options"</span>, <span
     style="color: #a31515;">"value"</span>]</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #795e26;">getContent</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">return</span><span
     style="color: #008000;"> /*&nbsp;HTML */ </span>`</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;link</span> <span
     style="color: #e50000;">rel</span>=<span
     style="color: #0000ff;">"stylesheet"</span> <span
     style="color: #e50000;">href</span>=<span
     style="color: #0000ff;">"/lib/css/material-symbols-outlined.css"</span><span
     style="color: #800000;">&gt;</span></div><br>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;style&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">:host</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">display</span>: <span
     style="color: #0451a5;">block</span>;</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">cursor</span>: <span
     style="color: #0451a5;">default</span>;</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;}</div><br>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">output</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">display</span>: <span
     style="color: #0451a5;">block</span>;</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">white-space</span>: <span
     style="color: #0451a5;">nowrap</span>;</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">text-overflow</span>: <span
     style="color: #0451a5;">ellipsis</span>;</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">overflow</span>: <span
     style="color: #0451a5;">hidden</span>;</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;}</div><br>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">#up</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">position</span>: <span
     style="color: #0451a5;">absolute</span>;</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">bottom</span>: <span
     style="color: #098658;">8px</span>;</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">right</span>: <span
     style="color: #098658;">12px</span>;</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">display</span>: <span
     style="color: #0451a5;">none</span>;</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">color</span>: <span
     style="color: #795e26;">var</span>(<span
     style="color: #001080;">--md-sys-color-on-surface-variant</span>);</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;}</div><br>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">#down</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">position</span>: <span
     style="color: #0451a5;">absolute</span>;</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">bottom</span>: <span
     style="color: #098658;">8px</span>;</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">right</span>: <span
     style="color: #098658;">12px</span>;</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">color</span>: <span
     style="color: #795e26;">var</span>(<span
     style="color: #001080;">--md-sys-color-on-surface-variant</span>);</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;}</div><br>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">:host</span>(<span
     style="color: #800000;">.open</span>) <span
     style="color: #800000;">#up</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">display</span>: <span
     style="color: #0451a5;">inline-block</span>;</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;}</div><br>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">:host</span>(<span
     style="color: #800000;">.open</span>) <span
     style="color: #800000;">#down</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">display</span>: <span
     style="color: #0451a5;">none</span>;</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;}</div><br>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">:host</span>(<span
     style="color: #800000;">.invalid</span>) <span
     style="color: #800000;">#up</span>,</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">:host</span>(<span
     style="color: #800000;">.invalid</span>) <span
     style="color: #800000;">#down</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #e50000;">color</span>: <span
     style="color: #795e26;">var</span>(<span
     style="color: #001080;">--md-sys-color-error</span>);</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;}</div><br>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/style&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;output&gt;&lt;/output&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;span</span> <span
     style="color: #e50000;">id</span>=<span
     style="color: #0000ff;">"down"</span> <span
     style="color: #e50000;">class</span>=<span
     style="color: #0000ff;">"material-symbols-outlined"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;arrow_drop_down</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/span&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;span</span> <span
     style="color: #e50000;">id</span>=<span
     style="color: #0000ff;">"up"</span> <span
     style="color: #e50000;">class</span>=<span
     style="color: #0000ff;">"material-symbols-outlined"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;arrow_drop_up</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/span&gt;</span>`</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">constructor</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">super</span>()</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">shadow</span> = <span
     style="color: #0000ff;">this</span>.<span
     style="color: #795e26;">attachShadow</span>({ <span
     style="color: #001080;">mode:</span> <span
     style="color: #a31515;">"open"</span> })</div>
  <div>&nbsp;&nbsp;<span
     style="color: #001080;">shadow</span>.<span
     style="color: #001080;">innerHTML</span> =</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #795e26;">getContent</span>()</div><br>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">_alterna</span> = <span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">_alterna</span>.<span
     style="color: #795e26;">bind</span>(<span
     style="color: #0000ff;">this</span>)</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">_onKeyDown</span> = <span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">_onKeyDown</span>.<span
     style="color: #795e26;">bind</span>(<span
     style="color: #0000ff;">this</span>)</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">_cierra</span> = <span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">_cierra</span>.<span
     style="color: #795e26;">bind</span>(<span
     style="color: #0000ff;">this</span>)</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">opcionSeleccionada</span> = <span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">opcionSeleccionada</span>.<span
     style="color: #795e26;">bind</span>(<span
     style="color: #0000ff;">this</span>)</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">clicExterno</span> = <span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">clicExterno</span>.<span
     style="color: #795e26;">bind</span>(<span
     style="color: #0000ff;">this</span>)</div><br>
  <div>&nbsp;&nbsp;<span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@readonly</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@type</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{&nbsp;{ valid:boolean }&nbsp;}</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;*/</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">validity</span> =&nbsp;{ <span
     style="color: #001080;">valid:</span> <span
     style="color: #0000ff;">true</span> }</div>
  <div>&nbsp;&nbsp;<span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@private</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@type</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;*/</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">_customValidity</span> = <span
     style="color: #a31515;">""</span></div><br>
  <div>&nbsp;&nbsp;<span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@private</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@type</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{ HTMLOutputElement }</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;*/</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">output</span> = <span
     style="color: #795e26;">querySelector</span>(<span
     style="color: #001080;">shadow</span>, <span
     style="color: #a31515;">"output"</span>)</div>
  <div>&nbsp;&nbsp;<span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@private</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;*/</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">_options</span> = <span
     style="color: #a31515;">""</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@private</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@type</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{ MdOptionsMenu | null }</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;*/</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">_optionsMenu</span> = <span
     style="color: #0000ff;">null</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@private</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@type</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{ MdFilledTextField | null }</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;*/</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">_textField</span> = <span
     style="color: #0000ff;">null</span></div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #795e26;">connectedCallback</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">tabIndex</span> = <span
     style="color: #098658;">0</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">role</span> = <span
     style="color: #a31515;">"combobox"</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">ariaHasPopup</span> = <span
     style="color: #a31515;">"listbox"</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">ariaExpanded</span> = <span
     style="color: #a31515;">"false"</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>[<span
     style="color: #a31515;">"aria-controls"</span>] = <span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">options</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #795e26;">addEventListener</span>(<span
     style="color: #a31515;">"keydown"</span>, <span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">_onKeyDown</span>)</div>
  <div>&nbsp;&nbsp;<span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@type</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{ MdFilledTextField | null }</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;&nbsp;*/</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">textField</span> = <span
     style="color: #0000ff;">this</span>.<span
     style="color: #795e26;">closest</span>(<span
     style="color: #a31515;">"md-filled-text-field"</span>)</div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">if</span> (<span
     style="color: #001080;">textField</span> !== <span
     style="color: #0000ff;">null</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">_textField</span> = <span
     style="color: #001080;">textField</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">textField</span>.<span
     style="color: #001080;">classList</span>.<span
     style="color: #795e26;">add</span>(<span
     style="color: #a31515;">"select"</span>)</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">textField</span>.<span
     style="color: #795e26;">addEventListener</span>(<span
     style="color: #a31515;">"click"</span>, <span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">_alterna</span>)</div>
  <div>&nbsp;&nbsp;}</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">nombreDeAtributo</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">_valorAnterior</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">nuevoValor</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*/</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">attributeChangedCallback</span>(<span
     style="color: #001080;">nombreDeAtributo</span>, <span
     style="color: #001080;">_valorAnterior</span>, <span
     style="color: #001080;">nuevoValor</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">if</span> (<span
     style="color: #001080;">nombreDeAtributo</span> === <span
     style="color: #a31515;">"options"</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #795e26;">muestraOptions</span>(<span
     style="color: #001080;">nuevoValor</span>)</div>
  <div>&nbsp;&nbsp;}&nbsp;<span
     style="color: #af00db;">else</span> <span
     style="color: #af00db;">if</span> (<span
     style="color: #001080;">nombreDeAtributo</span> === <span
     style="color: #a31515;">"value"</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #795e26;">muestraValue</span>()</div>
  <div>&nbsp;&nbsp;}</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">get</span> <span
     style="color: #795e26;">options</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #795e26;">getAttribute</span>(<span
     style="color: #0000ff;">this</span>, <span
     style="color: #a31515;">"options"</span>)</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">set</span> <span
     style="color: #795e26;">options</span>(<span
     style="color: #001080;">options</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #795e26;">setAttribute</span>(<span
     style="color: #a31515;">"options"</span>, <span
     style="color: #001080;">options</span>)</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">options</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*/</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">muestraOptions</span>(<span
     style="color: #001080;">options</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">if</span> (<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">_options</span> !== <span
     style="color: #001080;">options</span> &amp;&amp; <span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">_optionsMenu</span> !== <span
     style="color: #0000ff;">null</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">_optionsMenu</span> = <span
     style="color: #0000ff;">null</span></div>
  <div>&nbsp;&nbsp;}</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">_options</span> = <span
     style="color: #001080;">options</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>[<span
     style="color: #a31515;">"aria-controls"</span>] = <span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">options</span></div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">get</span> <span
     style="color: #795e26;">required</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #0000ff;">this</span>.<span
     style="color: #795e26;">hasAttribute</span>(<span
     style="color: #a31515;">"required"</span>)</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">set</span> <span
     style="color: #795e26;">required</span>(<span
     style="color: #001080;">required</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #795e26;">setBooleanAttribute</span>(<span
     style="color: #0000ff;">this</span>, <span
     style="color: #a31515;">"required"</span>, <span
     style="color: #001080;">required</span>)</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">get</span> <span
     style="color: #795e26;">value</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #795e26;">getAttribute</span>(<span
     style="color: #0000ff;">this</span>, <span
     style="color: #a31515;">"value"</span>)</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">set</span> <span
     style="color: #795e26;">value</span>(<span
     style="color: #001080;">value</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #795e26;">setAttribute</span>(<span
     style="color: #a31515;">"value"</span>, <span
     style="color: #001080;">value</span>)</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #795e26;">muestraValue</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">value</span> = <span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">value</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">output</span>.<span
     style="color: #001080;">value</span> = <span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">optionsMenu</span>.<span
     style="color: #795e26;">muestraValue</span>(<span
     style="color: #001080;">value</span>)</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #008000;">/**&nbsp;</span><span
     style="color: #0000ff;">@private</span><span
     style="color: #008000;"> */</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">_alterna</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">if</span> (<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">classList</span>.<span
     style="color: #795e26;">contains</span>(<span
     style="color: #a31515;">"open"</span>))&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #795e26;">_cierra</span>()</div>
  <div>&nbsp;&nbsp;}&nbsp;<span
     style="color: #af00db;">else</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #795e26;">_abre</span>()</div>
  <div>&nbsp;&nbsp;}</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #008000;">/**&nbsp;</span><span
     style="color: #0000ff;">@private</span><span
     style="color: #008000;"> */</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">_abre</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">classList</span>.<span
     style="color: #795e26;">add</span>(<span
     style="color: #a31515;">"open"</span>)</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">textField</span> = <span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">_textField</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">if</span> (<span
     style="color: #001080;">textField</span> !== <span
     style="color: #0000ff;">null</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">optionsMenu</span> = <span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">optionsMenu</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">optionsMenu</span>.<span
     style="color: #001080;">style</span>.<span
     style="color: #001080;">top</span> = <span
     style="color: #a31515;">`</span><span
     style="color: #0000ff;">${</span><span
     style="color: #001080;">textField</span>.<span
     style="color: #001080;">offsetTop</span> + <span
     style="color: #098658;">56</span><span
     style="color: #0000ff;">}</span><span
     style="color: #a31515;">px`</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">optionsMenu</span>.<span
     style="color: #001080;">style</span>.<span
     style="color: #001080;">left</span> = <span
     style="color: #a31515;">`</span><span
     style="color: #0000ff;">${</span><span
     style="color: #001080;">textField</span>.<span
     style="color: #001080;">offsetLeft</span><span
     style="color: #0000ff;">}</span><span
     style="color: #a31515;">px`</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">optionsMenu</span>.<span
     style="color: #001080;">style</span>.<span
     style="color: #001080;">width</span> = <span
     style="color: #a31515;">`</span><span
     style="color: #0000ff;">${</span><span
     style="color: #001080;">textField</span>.<span
     style="color: #001080;">offsetWidth</span><span
     style="color: #0000ff;">}</span><span
     style="color: #a31515;">px`</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">optionsMenu</span>.<span
     style="color: #795e26;">abre</span>()</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">optionsMenu</span>.<span
     style="color: #795e26;">addEventListener</span>(<span
     style="color: #a31515;">"input"</span>, <span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">opcionSeleccionada</span>)</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">ariaExpanded</span> = <span
     style="color: #a31515;">"true"</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">document</span>.<span
     style="color: #795e26;">addEventListener</span>(<span
     style="color: #a31515;">"click"</span>, <span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">clicExterno</span>)</div>
  <div>&nbsp;&nbsp;}</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #008000;">/**&nbsp;</span><span
     style="color: #0000ff;">@private</span><span
     style="color: #008000;"> */</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">_cierra</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">classList</span>.<span
     style="color: #795e26;">remove</span>(<span
     style="color: #a31515;">"open"</span>)</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">optionsMenu</span> = <span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">optionsMenu</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #001080;">optionsMenu</span>.<span
     style="color: #795e26;">cierra</span>()</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #795e26;">checkValidity</span>()</div>
  <div>&nbsp;&nbsp;<span
     style="color: #001080;">optionsMenu</span>.<span
     style="color: #795e26;">removeEventListener</span>(<span
     style="color: #a31515;">"input"</span>, <span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">opcionSeleccionada</span>)</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">ariaExpanded</span> = <span
     style="color: #a31515;">"false"</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #001080;">document</span>.<span
     style="color: #795e26;">removeEventListener</span>(<span
     style="color: #a31515;">"click"</span>, <span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">clicExterno</span>)</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #795e26;">dispatchEvent</span>(<span
     style="color: #0000ff;">new</span> <span
     style="color: #795e26;">Event</span>(<span
     style="color: #a31515;">"input"</span>,&nbsp;{ <span
     style="color: #001080;">bubbles:</span> <span
     style="color: #0000ff;">true</span> }))</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #0000ff;">get</span> <span
     style="color: #795e26;">optionsMenu</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">if</span> (<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">_optionsMenu</span> === <span
     style="color: #0000ff;">null</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #af00db;">if</span> (<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">_options</span> === <span
     style="color: #a31515;">""</span>)</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #af00db;">throw</span> <span
     style="color: #0000ff;">new</span> <span
     style="color: #795e26;">Error</span>(<span
     style="color: #a31515;">"Atributo options no asignado."</span>)</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">menu</span> = <span
     style="color: #001080;">document</span>.<span
     style="color: #795e26;">getElementById</span>(<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">_options</span>)</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #af00db;">if</span> (<span
     style="color: #001080;">menu</span> <span
     style="color: #0000ff;">instanceof</span> <span
     style="color: #267f99;">MdOptionsMenu</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">_optionsMenu</span> = <span
     style="color: #001080;">menu</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #795e26;">muestraValue</span>()</div>
  <div>&nbsp;&nbsp;&nbsp;}&nbsp;<span
     style="color: #af00db;">else</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #af00db;">throw</span> <span
     style="color: #0000ff;">new</span> <span
     style="color: #795e26;">Error</span>(<span
     style="color: #a31515;">`Valor incorrecto para options: "</span><span
     style="color: #0000ff;">${this</span>.<span
     style="color: #001080;">_options</span><span
     style="color: #0000ff;">}</span><span
     style="color: #a31515;">".`</span>)</div>
  <div>&nbsp;&nbsp;&nbsp;}</div>
  <div>&nbsp;&nbsp;}</div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">_optionsMenu</span></div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #008000;">/**&nbsp;</span><span
     style="color: #0000ff;">@private</span><span
     style="color: #008000;"> */</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">_avanzaOpcion</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">i</span> = <span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">_valueIndex</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">opciones</span> = <span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">optionsMenu</span>.<span
     style="color: #001080;">opciones</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">if</span> (<span
     style="color: #001080;">i</span> &lt; <span
     style="color: #001080;">opciones</span>.<span
     style="color: #001080;">length</span> - <span
     style="color: #098658;">1</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">value</span> = <span
     style="color: #001080;">opciones</span>[<span
     style="color: #001080;">i</span> + <span
     style="color: #098658;">1</span>].<span
     style="color: #001080;">input</span>.<span
     style="color: #001080;">value</span></div>
  <div>&nbsp;&nbsp;}</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #008000;">/**&nbsp;</span><span
     style="color: #0000ff;">@private</span><span
     style="color: #008000;"> */</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">_retrocedeOpcion</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">i</span> = <span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">_valueIndex</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">opciones</span> = <span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">optionsMenu</span>.<span
     style="color: #001080;">opciones</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">if</span> (<span
     style="color: #001080;">i</span> &gt; <span
     style="color: #098658;">0</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">value</span> = <span
     style="color: #001080;">opciones</span>[<span
     style="color: #001080;">i</span> - <span
     style="color: #098658;">1</span>].<span
     style="color: #001080;">input</span>.<span
     style="color: #001080;">value</span></div>
  <div>&nbsp;&nbsp;}</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@private</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@returns</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{number}</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*/</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">get</span> <span
     style="color: #795e26;">_valueIndex</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">value</span> = <span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">value</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">optionsMenu</span>.<span
     style="color: #001080;">opciones</span>.<span
     style="color: #795e26;">findIndex</span>(</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">opcion</span> <span
     style="color: #0000ff;">=&gt;</span> <span
     style="color: #001080;">opcion</span>.<span
     style="color: #001080;">input</span>.<span
     style="color: #001080;">value</span> === <span
     style="color: #001080;">value</span>)</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #795e26;">opcionSeleccionada</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">value</span> = <span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">optionsMenu</span>.<span
     style="color: #001080;">seleccion</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #795e26;">_cierra</span>()</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #795e26;">focus</span>()</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{Event}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">evt</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*/</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">clicExterno</span>(<span
     style="color: #001080;">evt</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">target</span> = <span
     style="color: #001080;">evt</span>.<span
     style="color: #001080;">target</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">if</span> (<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">classList</span>.<span
     style="color: #795e26;">contains</span>(<span
     style="color: #a31515;">"open"</span>)</div>
  <div>&nbsp;&nbsp;&nbsp;&amp;&amp; <span
     style="color: #001080;">target</span> <span
     style="color: #0000ff;">instanceof</span> <span
     style="color: #267f99;">HTMLElement</span></div>
  <div>&nbsp;&nbsp;&nbsp;&amp;&amp; <span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">_textField</span> !== <span
     style="color: #0000ff;">null</span></div>
  <div>&nbsp;&nbsp;&nbsp;&amp;&amp; !<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">_textField</span>.<span
     style="color: #795e26;">contains</span>(<span
     style="color: #001080;">target</span>)</div>
  <div>&nbsp;&nbsp;&nbsp;&amp;&amp; <span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">_optionsMenu</span> !== <span
     style="color: #0000ff;">null</span></div>
  <div>&nbsp;&nbsp;&nbsp;&amp;&amp; !<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">_optionsMenu</span>.<span
     style="color: #795e26;">contains</span>(<span
     style="color: #001080;">target</span>))&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #795e26;">_cierra</span>()</div>
  <div>&nbsp;&nbsp;}</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{ KeyboardEvent }</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">event</span></div>
  <div><span
     style="color: #008000;">&nbsp;&nbsp;*/</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">_onKeyDown</span>(<span
     style="color: #001080;">event</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">key</span> = <span
     style="color: #001080;">event</span>.<span
     style="color: #001080;">key</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">if</span> (<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">optionsMenu</span>.<span
     style="color: #001080;">classList</span>.<span
     style="color: #795e26;">contains</span>(<span
     style="color: #a31515;">"open"</span>))&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #af00db;">if</span> (<span
     style="color: #001080;">key</span> === <span
     style="color: #a31515;">"ArrowDown"</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">event</span>.<span
     style="color: #795e26;">preventDefault</span>()</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #795e26;">_avanzaOpcion</span>()</div>
  <div>&nbsp;&nbsp;&nbsp;}&nbsp;<span
     style="color: #af00db;">else</span> <span
     style="color: #af00db;">if</span> (<span
     style="color: #001080;">key</span> === <span
     style="color: #a31515;">"ArrowUp"</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">event</span>.<span
     style="color: #795e26;">preventDefault</span>()</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #795e26;">_retrocedeOpcion</span>()</div>
  <div>&nbsp;&nbsp;&nbsp;}&nbsp;<span
     style="color: #af00db;">else</span> <span
     style="color: #af00db;">if</span> (<span
     style="color: #001080;">key</span> === <span
     style="color: #a31515;">"Escape"</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">event</span>.<span
     style="color: #795e26;">preventDefault</span>()</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #795e26;">_cierra</span>()</div>
  <div>&nbsp;&nbsp;&nbsp;}&nbsp;<span
     style="color: #af00db;">else</span> <span
     style="color: #af00db;">if</span> (<span
     style="color: #001080;">key</span> === <span
     style="color: #a31515;">" "</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">event</span>.<span
     style="color: #795e26;">preventDefault</span>()</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #795e26;">_cierra</span>()</div>
  <div>&nbsp;&nbsp;&nbsp;}&nbsp;<span
     style="color: #af00db;">else</span> <span
     style="color: #af00db;">if</span> (<span
     style="color: #001080;">key</span> === <span
     style="color: #a31515;">"Tab"</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #795e26;">_cierra</span>()</div>
  <div>&nbsp;&nbsp;&nbsp;}&nbsp;<span
     style="color: #af00db;">else</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">event</span>.<span
     style="color: #795e26;">preventDefault</span>()</div>
  <div>&nbsp;&nbsp;&nbsp;}</div>
  <div>&nbsp;&nbsp;}&nbsp;<span
     style="color: #af00db;">else</span> <span
     style="color: #af00db;">if</span> (<span
     style="color: #001080;">key</span> === <span
     style="color: #a31515;">" "</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">event</span>.<span
     style="color: #795e26;">preventDefault</span>()</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #795e26;">_abre</span>()</div>
  <div>&nbsp;&nbsp;}&nbsp;<span
     style="color: #af00db;">else</span> <span
     style="color: #af00db;">if</span> (<span
     style="color: #001080;">key</span> === <span
     style="color: #a31515;">"Tab"</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #795e26;">_cierra</span>()</div>
  <div>&nbsp;&nbsp;}&nbsp;<span
     style="color: #af00db;">else</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">event</span>.<span
     style="color: #795e26;">preventDefault</span>()</div>
  <div>&nbsp;&nbsp;}</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #008000;">/**&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{string}</span><span
     style="color: #008000;"> </span><span
     style="color: #001080;">error</span><span
     style="color: #008000;"> */</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">setCustomValidity</span>(<span
     style="color: #001080;">error</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">_customValidity</span> = <span
     style="color: #001080;">error</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #795e26;">checkValidity</span>()</div>
  <div>&nbsp;}</div><br>
  <div>&nbsp;<span
     style="color: #008000;">/**&nbsp;</span><span
     style="color: #0000ff;">@returns</span><span
     style="color: #008000;"> </span><span
     style="color: #267f99;">{boolean}</span><span
     style="color: #008000;"> */</span></div>
  <div>&nbsp;<span
     style="color: #795e26;">checkValidity</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">if</span> (<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">_customValidity</span> !== <span
     style="color: #a31515;">""</span> || (<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">required</span> &amp;&amp; <span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">value</span> === <span
     style="color: #a31515;">""</span>))&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">validity</span>.<span
     style="color: #001080;">valid</span> = <span
     style="color: #0000ff;">false</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">validationMessage</span> = <span
     style="color: #a31515;">"Seleccione una opci√≥n."</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">classList</span>.<span
     style="color: #795e26;">add</span>(<span
     style="color: #a31515;">"invalid"</span>)</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #0000ff;">false</span></div>
  <div>&nbsp;&nbsp;}&nbsp;<span
     style="color: #af00db;">else</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">classList</span>.<span
     style="color: #795e26;">remove</span>(<span
     style="color: #a31515;">"invalid"</span>)</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">this</span>.<span
     style="color: #001080;">validity</span>.<span
     style="color: #001080;">valid</span> = <span
     style="color: #0000ff;">true</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #af00db;">return</span> <span
     style="color: #0000ff;">true</span></div>
  <div>&nbsp;&nbsp;}</div>
  <div>&nbsp;}</div><br>
  <div>}</div><br>
  <div><span
     style="color: #001080;">customElements</span>.<span
     style="color: #795e26;">define</span>(<span
     style="color: #a31515;">"md-select-menu"</span>, <span
     style="color: #001080;">MdSelectMenu</span>)</div>
 </div>
</muestra-codigo>