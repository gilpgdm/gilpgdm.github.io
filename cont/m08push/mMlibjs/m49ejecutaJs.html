<muestra-codigo>
 <div>
  <div><span
     style="color: #008000;">/**</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;Espera a que la promesa de un</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;fetch termine. Si hay error</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;lanza una excepci√≥n. Si no hay</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;error, interpreta la respuesta</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;del servidor como JSON y</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;la convierte en una literal de</span>
  </div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;objeto. </span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@param</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">{Promise&lt;Response&gt;}</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">fetch</span></div>
  <div><span
     style="color: #008000;">&nbsp;*&nbsp;</span><span
     style="color: #0000ff;">@returns</span><span
     style="color: #008000;"> </span><span
     style="color: #008000;">{Promise&lt;any&gt;}</span></div>
  <div><span
     style="color: #008000;">&nbsp;*/</span></div>
  <div><span
     style="color: #0000ff;">export</span></div>
  <div>&nbsp;<span
     style="color: #0000ff;">async</span> <span
     style="color: #0000ff;">function</span> ejecuta(fetch)&nbsp;{</div>
  <div>&nbsp;<span
     style="color: #0000ff;">const</span> resp = <span
     style="color: #0000ff;">await</span> fetch</div>
  <div>&nbsp;<span
     style="color: #0000ff;">if</span> (resp.ok)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">return</span> <span
     style="color: #0000ff;">await</span> resp.json()</div>
  <div>&nbsp;}&nbsp;<span
     style="color: #0000ff;">else</span> <span
     style="color: #0000ff;">if</span> (resp.status === <span
     style="color: #098658;">500</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">throw</span> <span
     style="color: #0000ff;">new</span> Error(</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">await</span> resp.text())</div>
  <div>&nbsp;}&nbsp;<span
     style="color: #0000ff;">else</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">throw</span> <span
     style="color: #0000ff;">new</span> Error(resp.statusText)</div>
  <div>&nbsp;}</div>
  <div>}</div>
 </div>
</muestra-codigo>