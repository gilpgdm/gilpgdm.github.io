<div class="lectura">
 <ol>
  <li>
   <p>
    Este ejercicio usa la librería WebPush para PHP. Puedes profundizar en este
    tema en la URL
    <a href="https://github.com/web-push-libs/web-push-php" rel="noreferrer"
      target="_blank">https://github.com/web-push-libs/web-push-php</a>
   </p>
  </li>
  <li>
   <p>
    Prueba el ejemplo en
    <a href="https://notipush.rf.gd/" rel="noreferrer"
      target="_blank">https://notipush.rf.gd/</a>.
   </p>
  </li>
  <li>
   <p>
    Descarga el archivo
    <a href="/src/notipush.zip" download>/src/notipush.zip</a> y
    descompáctalo.
   </p>
  </li>
  <li>
   <p>
    Abre la carpeta descompactada con Visual Studio Code.
   </p>
  </li>
  <li>
   <p>
    Edita los archivos que desees.
   </p>
  </li>
  <li>
   <p>
    El ejercicio usa una llave pública en el servidor y la repite el código de
    JavaScript en el navegador. También se requiere la correspondiente llave
    privada que se almacena solo en el servidor.
   </p>
  </li>
  <li>
   <p>
    Las llaves se pueden generar con el enlace <u>Genera llaves</u> del ejemplo.
    Para copiar los valores despliega el código fuente de la página, porque en
    el navegador algunos caracteres pueden tener interpretación diferente.
   </p>
  </li>
  <li>
   <p>
    El proyecto ya contiene la carpeta <q>vendor</q> y el archivo
    <q>composer.lock</q>, pero es posible crearlos con estos pasos:
   </p>
   <ol>
    <li>
     <p>
      Instalar composer. Para Windows, usa el instalador de
      <a href="https://getcomposer.org/download/" rel="noreferrer"
        target="_blank">https://getcomposer.org/download/</a>.
     </p>
    </li>
    <li>
     <p>
      Abre una terminal y ejecuta el comando
      <br><samp>composer update</samp>
     </p>
    </li>
   </ol>
  </li>
  <li>
   <p>
    Haz clic derecho en <q>index.html</q>, selecciona
    <em>PHP Server: serve project</em> y se abre el navegador para que puedas
    probar localmente el ejemplo.
   </p>
  </li>
  <li>
   <p><strong>Para depurar paso a paso</strong> haz lo siguiente:</p>
   <ol>
    <li>
     <p>
      En el navegador, haz clic derecho en la página que deseas depurar y
      selecciona <em>inspeccionar</em>.
     </p>
    </li>
    <li>
     <p>
      Recarga la página, de preferencia haciendo clic derecho en el ícono de
      <em>volver a cargar la página</em>
      <img alt="Ïmagen del ícono de recarga" src="/img/reload.png"> y
      seleccionando <em>vaciar caché y volver a cargar de manera forzada</em> (o
      algo parecido). Si no aparece un menú emergente, simplemente cliquea
      <em>volver a cargar la página</em>
      <img alt="Ïmagen del ícono de recarga" src="/img/reload.png">.
      Revisa que no aparezca ningún error ni en la pestañas <em>Consola</em>, ni
      en <em>Red</em>.
     </p>
    </li>
    <li>
     <p>
      Selecciona la pestaña <em>Fuentes</em> (o <em>Sources</em> si tu navegador
      está en Inglés).
     </p>
    </li>
    <li>
     <p>Selecciona el archivo donde vas a empezar a depurar.</p>
    </li>
    <li>
     <p>Haz clic en el número de la línea donde vas a empezar a depurar.</p>
    </li>
    <li>
     <p>
      En Visual Studio Code, abre el archivo de PHP donde vas a empezar a
      depurar.
    </li>
    <li>
     <p>
      Haz clic en <em>Run and Debug</em> <img alt=""
        src="/img/runanddebug.png">.
     </p>
    </li>
    <li>
     <p>
      Si no está configurada la depuración, haz clic en <em>create a launch json
       file</em>.
     </p>
    </li>
    <li>
     <p>
      Haz clic en la flechita <em>RUN AND DEBUG</em>, al lado de la cual debe
      decir <em>Listen for Xdebug</em> <img alt=""
        src="/img/controleslanzadebug.png">.
     </p>
    </li>
    <li>
     <p>Aparece un cuadro con los controles de depuración.</p>
    </li>
    <li>
     <p>
      Selecciona otra vez el archivo de PHP y haz clic en el número de la línea
      donde vas a empezar a depurar.
     </p>
    </li>
    <li>
     <p>
      Regresa al navegador, recarga la página de manera normal y empieza a
      usarla.
     </p>
    </li>
    <li>
     <p>
      Si se ejecuta alguna de las líneas de código seleccionadas, aparece
      resaltada en la pestaña de fuentes. Usa los controles de depuración para
      avanzar, como se muestra en
      <a href="https://drive.google.com/file/d/1wdg7LKHR8L21FQGsRr2bXpXqAcaEGxCx/view?usp=sharing"
        target="_blank" rel="noreferrer">este video</a>.
     </p>
    </li>
   </ol>
  </li>
  <li>
   <p>
    Sube el proyecto al hosting que elijas sin incluir el archivo
    <q>.htaccess</q>. En algunos casos puedes usar
    filezilla
    (<a href="https://filezilla-project.org/" target="_blank"
      rel="noreferrer">https://filezilla-project.org/</a>)
   </p>
  </li>
  <li>
   <p>
    En algunos host, como <strong>InfinityFree</strong>, tienes que configurar
    el certificado SSL. El archivo
    <q>.htaccess</q> se sube a algunos servidores cuando el certificado se ha
    creado e instalado. Sirve para que algunos servidores forcen el uso de
    https, para eliminar el control de cache, pues ahora lo lleva el service
    worker y para asignar el mime type correcto para el archivo de manifest.
   </p>
  </li>
  <li>
   <p>Abre un navegador y prueba el proyecto en tu hosting.</p>
  </li>
  <li>
   <p>
    <strong>En el hosting InfinityFree,</strong> la primera ves que corres la
    página, puede marcar un mensaje de error, pero al recargar funciona
    correctamente. Puedes evitar esteproblema usando un dominio propio.
   </p>
  </li>
  <li>
   <p>
    <strong>Respalda tu sitio en GitHub:</strong>
   </p>
   <ol>
    <li>
     <p>
      Crea una cuenta de GitHub.
     </p>
    </li>
    <li>
     <p>
      Crea un repositorio.
     </p>
    </li>
    <li>
     <p>
      En la pestaña <em>&lt; &gt; Code</em>, cliquea <em>&lt; &gt; Code</em> y
      en la sección <strong>Branches</strong> y copia la dirección que está en
      <strong>Clone HTTPS</strong>.
     </p>
    </li>
    <li>
     <p>
      <strong>En Visual Studio Code,</strong> usa el botón de la izquierda para
      <em>Source Control</em>.
     </p>
     <figure>
      <img alt="Imagen de Source Control" src="/img/source_control.png">
     </figure>
    </li>
    <li>
     <p>
      Clique el botón <em>Clone Repository</em> y sigue las instrucciones,
      usando la url que copiaste en el punto anterior.
     </p>
    </li>
    <li>
     <p>Añade los archivos al proyecto y trabaja normalmente.</p>
    </li>
    <li>
     <p>
      <strong>Para subir el código a GitHub,</strong> en la sección de
      <em>SOURCE CONTROL</em>, en <em>Message</em>
      introduce un mensaje sobre los cambios que hiciste, por ejemplo
      <kbd>index.html corregido</kbd>, selecciona <em>v</em> y luego
      <em>Commit & Push</em>.
     </p>
     <figure>
      <img alt="Imagen de Commit & Push" src="/img/github_commit.png">
     </figure>
    </li>
   </ol>
  </li>
 </ol>
</div>