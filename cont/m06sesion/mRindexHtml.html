<muestra-codigo>
 <div>
  <div><span
     style="color: #800000;">&lt;!DOCTYPE</span> <span
     style="color: #ff0000;">html</span><span
     style="color: #800000;">&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;html</span> <span
     style="color: #ff0000;">lang</span>=<span
     style="color: #0000ff;">"es"</span><span
     style="color: #800000;">&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;head&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #ff0000;">charset</span>=<span
     style="color: #0000ff;">"UTF-8"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;meta</span> <span
     style="color: #ff0000;">name</span>=<span
     style="color: #0000ff;">"viewport"</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #ff0000;">content</span>=<span
     style="color: #0000ff;">"width=device-width"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;title&gt;</span>Autenticación<span
     style="color: #800000;">&lt;/title&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/head&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;body&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;h1&gt;</span>Autenticación<span
     style="color: #800000;">&lt;/h1&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;form</span> <span
     style="color: #ff0000;">id</span>=<span
     style="color: #0000ff;">"sesion"</span> <span
     style="color: #ff0000;">hidden</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;output</span> <span
     style="color: #ff0000;">name</span>=<span
     style="color: #0000ff;">"cue"</span><span
     style="color: #800000;">&gt;&lt;/output&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;button</span> <span
     style="color: #ff0000;">id</span>=<span
     style="color: #0000ff;">"terminar"</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #ff0000;">type</span>=<span
     style="color: #0000ff;">"button"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;Terminar sesión</div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/button&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/form&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;form</span> <span
     style="color: #ff0000;">id</span>=<span
     style="color: #0000ff;">"login"</span> <span
     style="color: #ff0000;">hidden</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;label&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;Cue</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;input</span> <span
     style="color: #ff0000;">name</span>=<span
     style="color: #0000ff;">"cue"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/label&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;label&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;Match</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;input</span> <span
     style="color: #ff0000;">type</span>=<span
     style="color: #0000ff;">"password"</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #ff0000;">name</span>=<span
     style="color: #0000ff;">"match"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/label&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;fieldset&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;legend&gt;</span>¿Eres humano?<span
     style="color: #800000;">&lt;/legend&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;label&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;input</span> <span
     style="color: #ff0000;">id</span>=<span
     style="color: #0000ff;">"noHumano"</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #ff0000;">type</span>=<span
     style="color: #0000ff;">"radio"</span> <span
     style="color: #ff0000;">name</span>=<span
     style="color: #0000ff;">"humano"</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #ff0000;">value</span>=<span
     style="color: #0000ff;">"no"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;No</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/label&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;label&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;input</span> <span
     style="color: #ff0000;">id</span>=<span
     style="color: #0000ff;">"humano"</span> <span
     style="color: #ff0000;">type</span>=<span
     style="color: #0000ff;">"radio"</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #ff0000;">name</span>=<span
     style="color: #0000ff;">"humano"</span> <span
     style="color: #ff0000;">value</span>=<span
     style="color: #0000ff;">"si"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;Si</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/label&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/fieldset&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;p&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #800000;">&lt;button&gt;</span>Iniciar sesión<span
     style="color: #800000;">&lt;/button&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #800000;">&lt;/p&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/form&gt;</span></div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;script</span> <span
     style="color: #ff0000;">type</span>=<span
     style="color: #0000ff;">"module"</span><span
     style="color: #800000;">&gt;</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">import</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">ejecuta</span></div>
  <div>&nbsp;&nbsp;}&nbsp;<span
     style="color: #af00db;">from</span> <span
     style="color: #a31515;">"./lib/js/ejecuta.js"</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">import</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">muestraError</span></div>
  <div>&nbsp;&nbsp;}&nbsp;<span
     style="color: #af00db;">from</span> <span
     style="color: #a31515;">"./lib/js/muestraError.js"</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">import</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">submit</span></div>
  <div>&nbsp;&nbsp;}&nbsp;<span
     style="color: #af00db;">from</span> <span
     style="color: #a31515;">"./lib/js/submit.js"</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">import</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">txtPruebaHumano</span></div>
  <div>&nbsp;&nbsp;}&nbsp;<span
     style="color: #af00db;">from</span> <span
     style="color: #a31515;">"./js/textos/txtPruebaHumano.js"</span></div><br>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">let</span> <span
     style="color: #001080;">esHumano</span> = <span
     style="color: #0000ff;">false</span></div><br>
  <div>&nbsp;&nbsp;<span
     style="color: #001080;">noHumano</span>.<span
     style="color: #795e26;">addEventListener</span>(</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"change"</span>,</div>
  <div>&nbsp;&nbsp;&nbsp;() <span
     style="color: #0000ff;">=&gt;</span> <span
     style="color: #001080;">esHumano</span> = <span
     style="color: #0000ff;">false</span>)</div>
  <div>&nbsp;&nbsp;<span
     style="color: #001080;">humano</span>.<span
     style="color: #795e26;">addEventListener</span>(</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"change"</span>, () <span
     style="color: #0000ff;">=&gt;</span> <span
     style="color: #001080;">esHumano</span> = <span
     style="color: #0000ff;">true</span>)</div>
  <div>&nbsp;&nbsp;<span
     style="color: #001080;">terminar</span>.<span
     style="color: #795e26;">addEventListener</span>(</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"click"</span>, <span
     style="color: #795e26;">terminaSesion</span>)</div>
  <div>&nbsp;&nbsp;<span
     style="color: #001080;">login</span>.<span
     style="color: #795e26;">addEventListener</span>(<span
     style="color: #a31515;">"submit"</span>,</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #795e26;">iniciaSesion</span>)</div><br>
  <div>&nbsp;&nbsp;<span
     style="color: #795e26;">recuperaSesion</span>()</div><br>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">async</span> <span
     style="color: #0000ff;">function</span> <span
     style="color: #795e26;">muestraLogin</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">sesion</span>.<span
     style="color: #001080;">hidden</span> = <span
     style="color: #0000ff;">true</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">sesion</span>.<span
     style="color: #001080;">cue</span>.<span
     style="color: #001080;">value</span> = <span
     style="color: #a31515;">""</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">login</span>.<span
     style="color: #001080;">cue</span>.<span
     style="color: #001080;">value</span> = <span
     style="color: #a31515;">""</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">login</span>.<span
     style="color: #001080;">match</span>.<span
     style="color: #001080;">value</span> = <span
     style="color: #a31515;">""</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">noHumano</span>.<span
     style="color: #001080;">checked</span> = <span
     style="color: #0000ff;">true</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">esHumano</span> = <span
     style="color: #0000ff;">false</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">login</span>.<span
     style="color: #001080;">hidden</span> = <span
     style="color: #0000ff;">false</span></div>
  <div>&nbsp;&nbsp;}</div><br>
  <div>&nbsp;&nbsp;<span
     style="color: #008000;">/**&nbsp;@param&nbsp;{string}&nbsp;usuario
    */</span></div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">async</span> <span
     style="color: #0000ff;">function</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #795e26;">muestraSesion</span>(<span
     style="color: #001080;">usuario</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">sesion</span>.<span
     style="color: #001080;">hidden</span> = <span
     style="color: #0000ff;">false</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">sesion</span>.<span
     style="color: #001080;">cue</span>.<span
     style="color: #001080;">value</span> = <span
     style="color: #001080;">usuario</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">login</span>.<span
     style="color: #001080;">match</span>.<span
     style="color: #001080;">value</span> = <span
     style="color: #a31515;">""</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">login</span>.<span
     style="color: #001080;">hidden</span> = <span
     style="color: #0000ff;">true</span></div>
  <div>&nbsp;&nbsp;}</div><br>
  <div>&nbsp;&nbsp;<span
     style="color: #af00db;">export</span> <span
     style="color: #0000ff;">async</span> <span
     style="color: #0000ff;">function</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #795e26;">recuperaSesion</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #af00db;">try</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">json</span> = <span
     style="color: #af00db;">await</span> <span
     style="color: #795e26;">ejecuta</span>(</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #795e26;">fetch</span>(<span
     style="color: #a31515;">"srv/SrvSesion.php"</span>))</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #af00db;">if</span> (<span
     style="color: #0070c1;">json</span>.<span
     style="color: #001080;">cue</span> === <span
     style="color: #a31515;">""</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #795e26;">muestraLogin</span>()</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span
     style="color: #af00db;">else</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #795e26;">muestraSesion</span>(<span
     style="color: #0070c1;">json</span>.<span
     style="color: #001080;">cue</span>)</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;}</div>
  <div>&nbsp;&nbsp;&nbsp;}&nbsp;<span
     style="color: #af00db;">catch</span> (<span
     style="color: #001080;">e</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #795e26;">muestraError</span>(<span
     style="color: #001080;">e</span>)</div>
  <div>&nbsp;&nbsp;&nbsp;}</div>
  <div>&nbsp;&nbsp;}</div><br>
  <div>&nbsp;&nbsp;<span
     style="color: #008000;">/**&nbsp;@param&nbsp;{Event}&nbsp;evt */</span>
  </div>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">export</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">async</span> <span
     style="color: #0000ff;">function</span> <span
     style="color: #795e26;">iniciaSesion</span>(</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">evt</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #af00db;">try</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #001080;">evt</span>.<span
     style="color: #795e26;">preventDefault</span>()</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #af00db;">if</span> (!<span
     style="color: #001080;">esHumano</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #af00db;">throw</span> <span
     style="color: #0000ff;">new</span> <span
     style="color: #267f99;">Error</span>(</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #795e26;">txtPruebaHumano</span>())</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;}</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">const</span> <span
     style="color: #0070c1;">json</span> = <span
     style="color: #af00db;">await</span> <span
     style="color: #795e26;">submit</span>(<span
     style="color: #001080;">evt</span>,</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #a31515;">"srv/SrvLogin.php"</span>, <span
     style="color: #001080;">login</span>)</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #795e26;">muestraSesion</span>(<span
     style="color: #0070c1;">json</span>.<span
     style="color: #001080;">cue</span>)</div>
  <div>&nbsp;&nbsp;&nbsp;}&nbsp;<span
     style="color: #af00db;">catch</span> (<span
     style="color: #001080;">e</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #795e26;">muestraError</span>(<span
     style="color: #001080;">e</span>)</div>
  <div>&nbsp;&nbsp;&nbsp;}</div>
  <div>&nbsp;&nbsp;}</div><br>
  <div>&nbsp;&nbsp;<span
     style="color: #0000ff;">export</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #0000ff;">async</span> <span
     style="color: #0000ff;">function</span> <span
     style="color: #795e26;">terminaSesion</span>()&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;<span
     style="color: #af00db;">try</span>&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #af00db;">await</span> <span
     style="color: #795e26;">ejecuta</span>(</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #795e26;">fetch</span>(<span
     style="color: #a31515;">"srv/SrvLogout.php"</span>))</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #795e26;">muestraLogin</span>()</div>
  <div>&nbsp;&nbsp;&nbsp;}&nbsp;<span
     style="color: #af00db;">catch</span> (<span
     style="color: #001080;">e</span>)&nbsp;{</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span
     style="color: #795e26;">muestraError</span>(<span
     style="color: #001080;">e</span>)</div>
  <div>&nbsp;&nbsp;&nbsp;}</div>
  <div>&nbsp;&nbsp;}</div>
  <div>&nbsp;<span
     style="color: #800000;">&lt;/script&gt;</span></div>
  <div><span
     style="color: #800000;">&lt;/body&gt;</span></div><br>
  <div><span
     style="color: #800000;">&lt;/html&gt;</span></div>
 </div>
</muestra-codigo>