<muestra-codigo>
 <div>
  <div><span style="color: #800000;">&lt;?php</span></div>
  <div><span style="color: #af00db;">require_once</span> <span
     style="color: #0000ff;">__DIR__</span> .</div>
  <div>&nbsp;<span style="color: #a31515;">"/bdCrea.php"</span>;</div>
  <div><span style="color: #af00db;">require_once</span> <span
     style="color: #0000ff;">__DIR__</span> .</div>
  <div>&nbsp;<span
     style="color: #a31515;">"/../modelo/Usuario.php"</span>;</div>
  <div><span style="color: #af00db;">require_once</span> <span
     style="color: #0000ff;">__DIR__</span> .</div>
  <div>&nbsp;<span style="color: #a31515;">"/usuarioBusca.php"</span>;</div>
  <div><span style="color: #af00db;">require_once</span> <span
     style="color: #0000ff;">__DIR__</span> .</div>
  <div>&nbsp;<span
     style="color: #a31515;">"/usuarioAgrega.php"</span>;</div><br>
  <div><span style="color: #0000ff;">class</span> <span
     style="color: #267f99;">AccesoBd</span></div>
  <div>{</div>
  <div>&nbsp;<span style="color: #0000ff;">private</span> <span
     style="color: #0000ff;">static</span> <span
     style="color: #001080;">$con</span> = <span
     style="color: #0000ff;">null</span>;</div><br>
  <div>&nbsp;<span style="color: #0000ff;">public</span> <span
     style="color: #0000ff;">static</span></div>
  <div>&nbsp;<span style="color: #0000ff;">function</span> <span
     style="color: #795e26;">getCon</span>(): <span
     style="color: #267f99;">\PDO</span></div>
  <div>&nbsp;{</div>
  <div>&nbsp; <span style="color: #af00db;">if</span> (<span
     style="color: #0000ff;">self</span>::<span
     style="color: #001080;">$con</span> === <span
     style="color: #0000ff;">null</span>) {</div>
  <div>&nbsp; &nbsp;<span style="color: #0000ff;">self</span>::<span
     style="color: #001080;">$con</span> = <span
     style="color: #0000ff;">self</span>::<span
     style="color: #795e26;">conecta</span>();</div>
  <div>&nbsp; &nbsp;<span style="color: #0000ff;">self</span>::<span
     style="color: #795e26;">prepara</span>();</div>
  <div>&nbsp; }</div>
  <div>&nbsp; <span style="color: #af00db;">return</span> <span
     style="color: #0000ff;">self</span>::<span
     style="color: #001080;">$con</span>;</div>
  <div>&nbsp;}</div>
  <div>&nbsp;<span style="color: #0000ff;">public</span> <span
     style="color: #0000ff;">static</span></div>
  <div>&nbsp;<span style="color: #0000ff;">function</span> <span
     style="color: #795e26;">conecta</span>(): <span
     style="color: #267f99;">\PDO</span></div>
  <div>&nbsp;{</div>
  <div>&nbsp; <span style="color: #af00db;">return</span> <span
     style="color: #0000ff;">new</span> <span
     style="color: #267f99;">PDO</span>(</div>
  <div>&nbsp; &nbsp;<span
     style="color: #a31515;">"sqlite:phpauth.db"</span>,</div>
  <div>&nbsp; &nbsp;<span style="color: #0000ff;">null</span>,</div>
  <div>&nbsp; &nbsp;<span style="color: #0000ff;">null</span>,</div>
  <div>&nbsp; &nbsp;[<span
     style="color: #267f99;">PDO</span>::ATTR_ERRMODE =&gt;</div>
  <div>&nbsp; &nbsp;<span
     style="color: #267f99;">PDO</span>::ERRMODE_EXCEPTION]</div>
  <div>&nbsp; );</div>
  <div>&nbsp;}</div>
  <div>&nbsp;<span style="color: #0000ff;">public</span> <span
     style="color: #0000ff;">static</span> <span
     style="color: #0000ff;">function</span> <span
     style="color: #795e26;">prepara</span>()</div>
  <div>&nbsp;{</div>
  <div>&nbsp; <span style="color: #795e26;">bdCrea</span>(<span
     style="color: #0000ff;">self</span>::<span
     style="color: #795e26;">getCon</span>());</div>
  <div>&nbsp; <span style="color: #001080;">$usuario</span> =</div>
  <div>&nbsp; &nbsp;<span style="color: #795e26;">usuarioBusca</span>(<span
     style="color: #a31515;">"pepito"</span>);</div>
  <div>&nbsp; <span style="color: #af00db;">if</span> (!<span
     style="color: #001080;">$usuario</span>) {</div>
  <div>&nbsp; &nbsp;<span style="color: #001080;">$usuario</span> = <span
     style="color: #0000ff;">new</span> <span
     style="color: #267f99;">Usuario</span>();</div>
  <div>&nbsp; &nbsp;<span style="color: #001080;">$usuario</span>-&gt;<span
     style="color: #001080;">cue</span> = <span
     style="color: #a31515;">"pepito"</span>;</div>
  <div>&nbsp; &nbsp;<span style="color: #001080;">$usuario</span>-&gt;<span
     style="color: #001080;">match</span> = <span
     style="color: #a31515;">"cuentos"</span>;</div>
  <div>&nbsp; &nbsp;<span style="color: #795e26;">usuarioAgrega</span>(<span
     style="color: #001080;">$usuario</span>);</div>
  <div>&nbsp; }</div>
  <div>&nbsp;}</div>
  <div>}</div><br>
 </div>
</muestra-codigo>