<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport"
      content="width=device-width, initial-scale=1, user-scalable=no">
    <script type="module" src="cmp/base.js"></script>
    <script type="module" src="cmp/mi-presentacion.js"></script>
    <link rel="stylesheet" href="css/estilos.css">
    <link rel="stylesheet" href="css/presentacion.css">
    <script type="module">
      import { SelDiapositivaBase } from "./lib/SelDiapositivaBase.js";
      customElements.define("mi-selector", class extends SelDiapositivaBase {
        /** @override
         * @returns {string} */
        get html() {
          return (/* html */
            `<select>
              <option value=intro>IoT</option>
              <option value=casos>Casos de Uso</option>
              <option value=despliegue>Despliegue</option>
              <option value=ER>Diagrama Entidad Relación</option>
              <option value=no_rel>Diseño no Relacional</option>
              <option value=Instrucciones>Instrucciones</option>
              <option value=Archivos>Archivos</option>
              <option value=mifooter>cmp/mi-footer.js</option>
              <option value=util>lib/util.js</option>
              <option value=init>js/init.js</option>
              <option value=utilBD>js/utilBD.js</option>
              <option value=Entity>Clases Entity</option>
              <option value=InfoHistorial>js/InfoHistorial.js</option>
              <option value=ClasesMóvil>Clases del Móvil</option>
              <option value=DaoEntradaMovil>js/DaoEntradaMovil.js</option>
              <option value=DaoSalidaMovil>js/DaoSalidaMovil.js</option>
              <option value=DaoHistorialMovil>js/DaoHistorialMovil.js</option>
              <option value=CtrlHistorial>js/CtrlHistorial.js</option>
              <option value=CtrlMovil>js/CtrlMovil.js</option>
              <option value=FabricaMovil>js/FabricaMovil.js</option>
              <option value=index>index.html</option>
              <option value=historial>historial.html</option>
              <option value=ComponentesDispositivo>Componentes del Dispositivo</option>
              <option value=ClasesDispositivo>Clases del Dispositivo</option>
              <option value=utilIoT>dispostivo/utilIoT.js</option>
              <option value=DaoEntradaDispositivo>dispostivo/DaoEntradaDispositivo.js</option>
              <option value=DaoHistorialDispositivo>dispostivo/DaoHistorialDispositivo.js</option>
              <option value=DaoSalidaDispositivo>dispostivo/DaoSalidaDispositivo.js</option>
              <option value=CtrlDispositivo>dispostivo/CtrlDispositivo.js</option>
              <option value=FabricaDispositivo>dispostivo/FabricaDispositivo.js</option>
              <option value=dispositivo>dispositivo.html</option>
              <option value=estilos>css/estilos.css</option>
              <option value=README>README.md</option>
              <option value=LICENSE>LICENSE</option>
            </select>`);
        }
      });
    </script>
  </head>
  <body>
    <div class="cortina"></div>
    <mi-menu></mi-menu>
    <mi-presentacion class="desplaza">
      <mi-selector slot=selector></mi-selector>
      <div id=intro slot=diapositiva>
        <div class="cortina"></div>
        <header></header>
        <h1></h1>
        <div class="marco-lectura">
          <p>
            <a href="https://gilpgiot.github.io/" target="_blank">Prueba el
              ejemplo.</a>
          </p>
          <p>
            <a href="https://github.com/gilpgiot/gilpgiot.github.io"
              target="_blank"">Revisa el código en GitHub.</a>
          </p>
        </div>
      </div>
      <section id=casos slot=diapositiva>
        <div class=" cortina"></div>
        <header></header>
        <h2></h2>
        <div class="marco-lectura">
          <figure>
            <img class="dc" src="img/casos_iot.svg"
              alt="Diagrama de Casos de Uso">
          </figure>
        </div>
      </section>
      <section id=despliegue slot=diapositiva>
        <div class=" cortina"></div>
        <header></header>
        <h2></h2>
        <div class="marco-lectura">
          <figure>
            <img class="dc" src="img/despliegue_iot.svg"
              alt="Diagrama de Despliegue">
          </figure>
        </div>
      </section>
      <section id=ER slot=diapositiva>
        <div class=" cortina"></div>
        <header></header>
        <h2></h2>
        <div class="marco-lectura">
          <figure>
            <img class="dc" src="img/entidades_iot.svg"
              alt="Diagrama de Entidad Relación de la Base de Datos">
          </figure>
        </div>
      </section>
      <section id=no_rel slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <div class="marco-lectura">
            <figure>
              <img class="dc" src="img/nosql_iot.svg"
                alt="Diseño No SQL de la Base de Datos">
            </figure>
          </div>
        </section>
        <section id=Instrucciones slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <div class="marco-lectura">
            <ol>
              <li>
                <p>
                  Crea una cuenta de Google con el nombre de tu aplicación de
                  base de datos.
                </p>
              </li>
              <li>
                <p>
                  <a href="https://web.microsoftstream.com/video/ca9eaa42-1865-4de4-8aa4-7972a170dbbf"
                    target="_blank">Crea los íconos del proyecto con GIMP.</a>
                </p>
              </li>
              <li>
                <p>
                  <a href="https://web.microsoftstream.com/video/dacfafcd-ef4e-4b81-81e4-340706b09638"
                    target="_blank">Crea una página con GitHub usando tu cuenta
                    de Google.</a>
                </p>
              </li>
              <li>
                <p>
                  <a href="https://web.microsoftstream.com/video/0237a0e5-3812-4fa3-94bf-c526724241de"
                    target="_blank">Clona tu proyecto desde Visual Studio Code
                    para trabajar desde tu PC.</a>
                </p>
              </li>
              <li>
                <p>
                  <a href="https://web.microsoftstream.com/video/1a324af1-b026-4b38-a050-9f053223648e"
                    target="_blank">Crear un proyecto de Firebase con el mismo
                    correo que la cuenta de GitHub.</a>
                </p>
              </li>
              <li>
                <p>
                  <strong>
                    <a href="https://web.microsoftstream.com/video/9a23d780-919c-42a2-af78-c24fa3b906bc"
                      target="_blank">Configura Firestore y tu proyecto de
                      Firebase para IoT.</a>
                  </strong>
                </p>
              </li>
              <li>
                <p>
                  Edita el código, utilizando las diapositivas que siguen
                  después de esta y pruébalo.
                </p>
              </li>
              <li>
                <p>
                  <a href="https://web.microsoftstream.com/video/60176161-ca03-4ca6-bf42-07735788a030"
                    target="_blank">Depura tu proyecto con Visual Studio Code.</a>
                </p>
              </li>
              <li>
                <p>
                  <a href="https://web.microsoftstream.com/video/2cb131ac-4568-4049-acc8-94285e38df08"
                    target="_blank">Observa como abrir y cerrar proyectos con
                    Visual Studio Code. También como cerrar la conexión a GitHub
                    de tu PC.</a>
                </p>
              </li>
            </ol>
          </div>
        </section>
        <section id=Archivos slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <div class="marco-lectura">
            <ul>
              <li>
                <p>cmp
                <ul>
                  <li><p><a href=#mifooter>mi-footer.js</a></li>
                </ul>
              </li>
              <li>
                <p>lib
                <ul>
                  <li><p><a href=#util>util.js</a></li>
                </ul>
              </li>
              <li>
                <p>js
                <ul>
                  <li><p><a href=#init>init.js</a></li>
                  <li><p><a href=#utilBD>utilBD.js</a></li>
                  <li><p><a href=#FabricaMovil>FabricaMovil.js</a></li>
                  <li><p><a href=#InfoHistorial>InfoHistorial.js</a></li>
                  <li><p><a href=#DaoEntradaMovil>DaoEntradaMovil.js</a></li>
                  <li><p><a href=#DaoSalidaMovil>DaoSalidaMovil.js</a></li>
                  <li><p><a href=#DaoHistorialMovil>DaoHistorialMovil.js</a></li>
                  <li><p><a href=#CtrlHistorial>CtrlHistorial.js</a></li>
                  <li><p><a href=#CtrlMovil>CtrlMovil.js</a></li>
                </ul>
              </li>
              <li>
                <p>dispositivo
                <ul>
                  <li><p><a href=#utilIoT>utilIoT.js</a></li>
                  <li><p><a href=#DaoEntradaDispositivo>DaoEntradaDispositivo.js</a></li>
                  <li><p><a href=#DaoHistorialDispositivo>DaoHistorialDispositivo.js</a></li>
                  <li><p><a href=#DaoSalidaDispositivo>DaoSalidaDispositivo.js</a></li>
                  <li><p><a href=#CtrlDispositivo>CtrlDispositivo.js</a></li>
                  <li><p><a href=#FabricaDispositivo>FabricaDispositivo.js</a></li>
                </ul>
              </li>
              <li>
                <p>css
                <ul>
                  <li><p><a href=#estilos>estilos.css</a></li>
                </ul>
              </li>
              <li><p><a href=#index>index.html</a></li>
              <li><p><a href=#historial>historial.html</a></li>
              <li><p><a href=#dispositivo>dispositivo.html</a></li>
              <li><p><a href=#README>README.md</a></li>
              <li><p><a href=#license>LICENSE</a></li>
            </ul>
          </div>
        </section>
        <section id=mifooter slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="7"></td>
              <td class=cod><div><div><span style="color: #0000ff;">class</span>&nbsp;<span style="color: #267f99;">MiFooter</span>&nbsp;<span style="color: #0000ff;">extends</span>&nbsp;<span style="color: #267f99;">HTMLElement</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #795e26;">connectedCallback</span>()&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">innerHTML</span>&nbsp;=&nbsp;<span style="color: #008000;">/*&nbsp;html&nbsp;*/</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`Copyright&nbsp;<span style="color: #0000ff;">&amp;copy;</span>&nbsp;2020&nbsp;Gilberto&nbsp;Pacheco&nbsp;Gallegos.`;</div><div>&nbsp;&nbsp;}</div><div>}</div><div><span style="color: #001080;">customElements</span>.<span style="color: #795e26;">define</span>(<span style="color: #a31515;">"mi-footer"</span>,&nbsp;<span style="color: #267f99;">MiFooter</span>);</div></div></td>
            </tr>
          </table>
        </section>
        <section id=util slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="46"></td>
              <td class=cod><div><div><span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{any}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">expresión</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">mensaje</span><span style="color: #008000;">&nbsp;*/</span></div><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">valida</span>(<span style="color: #001080;">expresión</span>,&nbsp;<span style="color: #001080;">mensaje</span>)&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #af00db;">if</span>&nbsp;(!<span style="color: #001080;">expresión</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">throw</span>&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">Error</span>(<span style="color: #001080;">mensaje</span>);</div><div>&nbsp;&nbsp;}</div><div>}</div><br><div><span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">s</span><span style="color: #008000;">&nbsp;*/</span></div><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">trims</span>(<span style="color: #001080;">s</span>)&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #001080;">s</span>&nbsp;?&nbsp;<span style="color: #001080;">s</span>.<span style="color: #795e26;">trim</span>()&nbsp;:&nbsp;<span style="color: #a31515;">""</span>;</div><div>}</div><br><div><span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{{forEach:(doc:Object)=&gt;void}}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">usaForEach</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{(doc:&nbsp;Object)&nbsp;=&gt;&nbsp;Object}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">función</span><span style="color: #008000;">&nbsp;*/</span></div><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">paraTodos</span>(<span style="color: #001080;">usaForEach</span>,&nbsp;<span style="color: #795e26;">función</span>)&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">arr</span>&nbsp;=&nbsp;[];</div><div>&nbsp;&nbsp;<span style="color: #001080;">usaForEach</span>.<span style="color: #795e26;">forEach</span>(<span style="color: #001080;">doc</span>&nbsp;<span style="color: #0000ff;">=&gt;</span>&nbsp;<span style="color: #0070c1;">arr</span>.<span style="color: #795e26;">push</span>(<span style="color: #795e26;">función</span>(<span style="color: #001080;">doc</span>)));</div><div>&nbsp;&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #0070c1;">arr</span>;</div><div>}</div><br><div><span style="color: #008000;">/**&nbsp;Muestra&nbsp;un&nbsp;error&nbsp;en&nbsp;la&nbsp;consola&nbsp;y&nbsp;un&nbsp;cuadro&nbsp;de&nbsp;alerta&nbsp;con&nbsp;el&nbsp;mensaje.</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Error}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">error</span><span style="color: #008000;">&nbsp;descripción&nbsp;del&nbsp;error.&nbsp;*/</span></div><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">muestraError</span>(<span style="color: #001080;">error</span>)&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #001080;">console</span>.<span style="color: #795e26;">log</span>(<span style="color: #001080;">error</span>);</div><div>&nbsp;&nbsp;<span style="color: #795e26;">alert</span>(<span style="color: #001080;">error</span>.<span style="color: #001080;">message</span>);</div><div>}</div><br><div><span style="color: #008000;">/**&nbsp;Codifica&nbsp;un&nbsp;texto&nbsp;para&nbsp;que&nbsp;escape&nbsp;los&nbsp;caracteres&nbsp;especiales&nbsp;y&nbsp;no&nbsp;se</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;pueda&nbsp;interpretar&nbsp;como&nbsp;HTML.&nbsp;Esta&nbsp;técnica&nbsp;evita&nbsp;la&nbsp;inyección&nbsp;de&nbsp;código.</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">texto</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@returns</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;un&nbsp;texto&nbsp;que&nbsp;no&nbsp;puede&nbsp;interpretarse&nbsp;como&nbsp;HTML.&nbsp;*/</span></div><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">cod</span>(<span style="color: #001080;">texto</span>)&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #af00db;">return</span>&nbsp;(<span style="color: #001080;">texto</span>&nbsp;||&nbsp;<span style="color: #a31515;">""</span>).<span style="color: #795e26;">toString</span>()</div><div>&nbsp;&nbsp;&nbsp;&nbsp;.<span style="color: #795e26;">replace</span>(<span style="color: #811f3f;">/</span><span style="color: #d16969;">[</span><span style="color: #811f3f;">&lt;&gt;"'</span><span style="color: #d16969;">]</span><span style="color: #811f3f;">/</span><span style="color: #0000ff;">g</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">letra</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">letra</span>&nbsp;<span style="color: #0000ff;">=&gt;</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">switch</span>&nbsp;(<span style="color: #001080;">letra</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">case</span>&nbsp;<span style="color: #a31515;">"&lt;"</span>:&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #a31515;">"&amp;lt;"</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">case</span>&nbsp;<span style="color: #a31515;">"&gt;"</span>:&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #a31515;">"&amp;gt;"</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">case</span>&nbsp;<span style="color: #a31515;">'"'</span>:&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #a31515;">"&amp;quot;"</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">case</span>&nbsp;<span style="color: #a31515;">"'"</span>:&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #a31515;">"&amp;#039;"</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">default</span>:&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #001080;">letra</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});</div><div>}</div></div></td>
            </tr>
          </table>
        </section>
        <section id=init slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="10"></td>
              <td class=cod><div><div><span style="color: #008000;">//&nbsp;@ts-ignore</span></div><div><span style="color: #001080;">firebase</span>.<span style="color: #795e26;">initializeApp</span>({</div><div>&nbsp;&nbsp;<span style="color: #001080;">apiKey</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #a31515;">"***************************************"</span>,</div><div>&nbsp;&nbsp;<span style="color: #001080;">authDomain</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #a31515;">"*************************"</span>,</div><div>&nbsp;&nbsp;<span style="color: #001080;">databaseURL</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #a31515;">"https://gilpgiotx.firebaseio.com"</span>,</div><div>&nbsp;&nbsp;<span style="color: #001080;">projectId</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #a31515;">"*********"</span>,</div><div>&nbsp;&nbsp;<span style="color: #001080;">storageBucket</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #a31515;">"*********************"</span>,</div><div>&nbsp;&nbsp;<span style="color: #001080;">messagingSenderId</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #a31515;">"************"</span>,</div><div>&nbsp;&nbsp;<span style="color: #001080;">appId</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #a31515;">"*****************************************"</span></div><div>});</div></div></td>
            </tr>
          </table>
        </section>
        <section id=utilBD slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="11"></td>
              <td class=cod><div><div><span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{{&nbsp;exists:&nbsp;boolean;&nbsp;data:&nbsp;()&nbsp;=&gt;&nbsp;any;&nbsp;id:&nbsp;any;&nbsp;}}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">doc</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@returns</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{number}</span></div><div><span style="color: #008000;">&nbsp;*/</span></div><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">leeValor</span>(<span style="color: #001080;">doc</span>)&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #af00db;">if</span>&nbsp;(<span style="color: #001080;">doc</span>.<span style="color: #001080;">exists</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">data</span>&nbsp;=&nbsp;<span style="color: #001080;">doc</span>.<span style="color: #795e26;">data</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #0070c1;">data</span>.<span style="color: #0070c1;">VALOR</span>&nbsp;||&nbsp;<span style="color: #098658;">0</span>;</div><div>&nbsp;&nbsp;}&nbsp;<span style="color: #af00db;">else</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #098658;">0</span>;</div><div>&nbsp;&nbsp;}</div><div>}</div></div></td>
            </tr>
          </table>
        </section>
        <section id=Entity slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <div class="marco-lectura">
            <figure>
              <img class="dc" src="img/clases_datos_iot.svg"
                alt="Diagrama de clases de la Base de Datos">
            </figure>
          </div>
        </section>
        <section id=InfoHistorial slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="14"></td>
              <td class=cod><div><div><span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@typedef</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Object}</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">ParamHistorial</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@property</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">id</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@property</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">dispositivo</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@property</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">timestamp</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@property</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{number}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">valor</span><span style="color: #008000;">&nbsp;*/</span></div><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">class</span>&nbsp;<span style="color: #267f99;">InfoHistorial</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{ParamHistorial}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">param0</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">constructor</span>({&nbsp;<span style="color: #001080;">id</span>,&nbsp;<span style="color: #001080;">dispositivo</span>,&nbsp;<span style="color: #001080;">timestamp</span>,&nbsp;<span style="color: #001080;">valor</span>&nbsp;})&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">id</span>&nbsp;=&nbsp;<span style="color: #001080;">id</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">dispositivo</span>&nbsp;=&nbsp;<span style="color: #001080;">dispositivo</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">timestamp</span>&nbsp;=&nbsp;<span style="color: #001080;">timestamp</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">valor</span>&nbsp;=&nbsp;<span style="color: #001080;">valor</span>;</div><div>&nbsp;&nbsp;}</div><div>}</div></div></td>
            </tr>
          </table>
        </section>
        <section id=ClasesMóvil slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <div class="marco-lectura">
            <figure>
              <img class="dc" src="img/clases_movil.svg" alt="Clases del Móvil">
            </figure>
          </div>
        </section>
        <section id=DaoEntradaMovil slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="25"></td>
              <td class=cod><div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">leeValor</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./utilBD.js"</span>;</div><br><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">class</span>&nbsp;<span style="color: #267f99;">DaoEntradaMóvil</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{{collection:&nbsp;(col:&nbsp;string)&nbsp;=&gt;&nbsp;any;}}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">firestore</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">idDisp</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">constructor</span>(<span style="color: #001080;">firestore</span>,&nbsp;<span style="color: #001080;">idDisp</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_colección</span>&nbsp;=&nbsp;<span style="color: #001080;">firestore</span>.<span style="color: #795e26;">collection</span>(<span style="color: #a31515;">"ENTRADA"</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_idDisp</span>&nbsp;=&nbsp;<span style="color: #001080;">idDisp</span>;</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{(error:&nbsp;Error)&nbsp;=&gt;&nbsp;void}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">callbackError</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{(valor:&nbsp;number)&nbsp;=&gt;&nbsp;void}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">callback</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #795e26;">lee</span>(<span style="color: #795e26;">callbackError</span>,&nbsp;<span style="color: #795e26;">callback</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">/*&nbsp;Pide&nbsp;el&nbsp;documento&nbsp;correspondiente&nbsp;de&nbsp;"ENTRADA".&nbsp;*/</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_colección</span>.<span style="color: #795e26;">doc</span>(<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_idDisp</span>).<span style="color: #795e26;">onSnapshot</span>(</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">docSnapshot</span>&nbsp;<span style="color: #0000ff;">=&gt;</span>&nbsp;<span style="color: #795e26;">callback</span>(<span style="color: #795e26;">leeValor</span>(<span style="color: #001080;">docSnapshot</span>)),</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Error}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">error</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">error</span>&nbsp;<span style="color: #0000ff;">=&gt;</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">callbackError</span>(<span style="color: #001080;">error</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #795e26;">lee</span>(<span style="color: #795e26;">callbackError</span>,&nbsp;<span style="color: #795e26;">callback</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;);</div><div>&nbsp;&nbsp;}</div><div>}</div></div></td>
            </tr>
          </table>
        </section>
        <section id=DaoSalidaMovil slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="26"></td>
              <td class=cod><div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">valida</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"../lib/util.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">leeValor</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./utilBD.js"</span>;</div><br><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">class</span>&nbsp;<span style="color: #267f99;">DaoSalidaMóvil</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{{collection:&nbsp;(col:&nbsp;string)&nbsp;=&gt;&nbsp;any;}}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">firestore</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">idDisp</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">constructor</span>(<span style="color: #001080;">firestore</span>,&nbsp;<span style="color: #001080;">idDisp</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_colección</span>&nbsp;=&nbsp;<span style="color: #001080;">firestore</span>.<span style="color: #795e26;">collection</span>(<span style="color: #a31515;">"SALIDA"</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_idDisp</span>&nbsp;=&nbsp;<span style="color: #001080;">idDisp</span>;</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{number}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">valor</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@returns</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Promise&lt;void&gt;}</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #795e26;">modifica</span>(<span style="color: #001080;">valor</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">valida</span>(<span style="color: #001080;">valor</span>&nbsp;!==&nbsp;<span style="color: #0000ff;">null</span>&nbsp;&amp;&amp;&nbsp;<span style="color: #001080;">valor</span>&nbsp;!==&nbsp;<span style="color: #0000ff;">undefined</span>&nbsp;&amp;&amp;&nbsp;!<span style="color: #795e26;">isNaN</span>(<span style="color: #001080;">valor</span>),</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a31515;">"Falta&nbsp;el&nbsp;valor&nbsp;de&nbsp;la&nbsp;salida."</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_colección</span>.<span style="color: #795e26;">doc</span>(<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_idDisp</span>).<span style="color: #795e26;">set</span>({&nbsp;<span style="color: #001080;">VALOR</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #001080;">valor</span>&nbsp;});</div><div>&nbsp;&nbsp;}</div><br><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@returns</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Promise&lt;number&gt;}</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #795e26;">busca</span>()&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">let</span>&nbsp;<span style="color: #001080;">doc</span>&nbsp;=&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_colección</span>.<span style="color: #795e26;">doc</span>(<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_idDisp</span>).<span style="color: #795e26;">get</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #795e26;">leeValor</span>(<span style="color: #001080;">doc</span>);</div><div>&nbsp;&nbsp;}</div><div>}</div></div></td>
            </tr>
          </table>
        </section>
        <section id=DaoHistorialMovil slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="27"></td>
              <td class=cod><div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">paraTodos</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"../lib/util.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">InfoHistorial</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./InfoHistorial.js"</span>;</div><br><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">class</span>&nbsp;<span style="color: #267f99;">DaoHistorialMóvil</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{{collection:&nbsp;(col:&nbsp;string)&nbsp;=&gt;&nbsp;any;&nbsp;}}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">firestore</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">constructor</span>(<span style="color: #001080;">firestore</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_colección</span>&nbsp;=&nbsp;<span style="color: #001080;">firestore</span>.<span style="color: #795e26;">collection</span>(<span style="color: #a31515;">"HISTORIAL"</span>);</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@returns</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Promise&lt;InfoHistorial[]&gt;}</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #795e26;">consulta</span>()&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">querySnapshot</span>&nbsp;=&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_colección</span>.<span style="color: #795e26;">orderBy</span>(<span style="color: #a31515;">"HIST_TS"</span>).<span style="color: #795e26;">get</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #795e26;">paraTodos</span>(<span style="color: #0070c1;">querySnapshot</span>,&nbsp;<span style="color: #001080;">doc</span>&nbsp;<span style="color: #0000ff;">=&gt;</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #795e26;">_cargaHistorial</span>(<span style="color: #001080;">doc</span>));</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #795e26;">_cargaHistorial</span>(<span style="color: #001080;">doc</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">if</span>&nbsp;(<span style="color: #001080;">doc</span>.<span style="color: #001080;">exists</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">data</span>&nbsp;=&nbsp;<span style="color: #001080;">doc</span>.<span style="color: #795e26;">data</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">InfoHistorial</span>({</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">id</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #001080;">doc</span>.<span style="color: #001080;">id</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">dispositivo</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #0070c1;">data</span>.<span style="color: #0070c1;">DISP_ID</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">timestamp</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #0070c1;">data</span>.<span style="color: #0070c1;">HIST_TS</span>&nbsp;?&nbsp;<span style="color: #0070c1;">data</span>.<span style="color: #0070c1;">HIST_TS</span>.<span style="color: #795e26;">toDate</span>().<span style="color: #795e26;">toJSON</span>()&nbsp;:&nbsp;<span style="color: #a31515;">""</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">valor</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #0070c1;">data</span>.<span style="color: #0070c1;">VALOR</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});</div><div>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color: #af00db;">else</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #0000ff;">null</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;}</div><div>}</div></div></td>
            </tr>
          </table>
        </section>
        <section id=CtrlHistorial slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="11"></td>
              <td class=cod><div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">DaoHistorialMóvil</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./DaoHistorialMovil.js"</span>;</div><br><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">class</span>&nbsp;<span style="color: #267f99;">CtrlHistorial</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{DaoHistorialMóvil}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">daoHistorial</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">constructor</span>(<span style="color: #001080;">daoHistorial</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_daoHistorial</span>&nbsp;=&nbsp;<span style="color: #001080;">daoHistorial</span>;</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #795e26;">consultaHistorial</span>()&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_daoHistorial</span>.<span style="color: #795e26;">consulta</span>();</div><div>&nbsp;&nbsp;}</div><div>}</div></div></td>
            </tr>
          </table>
        </section>
        <section id=CtrlMovil slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="38"></td>
              <td class=cod><div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">DaoEntradaMóvil</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./DaoEntradaMovil.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">DaoSalidaMóvil</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./DaoSalidaMovil.js"</span>;</div><br><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">class</span>&nbsp;<span style="color: #267f99;">CtrlMóvil</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">idDisp</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{(valor:&nbsp;number)&nbsp;=&gt;&nbsp;void}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">muestraEntrada</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{(valor:&nbsp;number)&nbsp;=&gt;&nbsp;void}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">muestraSalida</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{(error:&nbsp;Error)&nbsp;=&gt;&nbsp;void}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">muestraError</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{DaoEntradaMóvil}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">daoEntrada</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{DaoSalidaMóvil}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">daoSalida</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">constructor</span>(<span style="color: #001080;">idDisp</span>,&nbsp;<span style="color: #795e26;">muestraEntrada</span>,&nbsp;<span style="color: #795e26;">muestraSalida</span>,&nbsp;<span style="color: #795e26;">muestraError</span>,&nbsp;<span style="color: #001080;">daoEntrada</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">daoSalida</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_idDisp</span>&nbsp;=&nbsp;<span style="color: #001080;">idDisp</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_muestraSalida</span>&nbsp;=&nbsp;<span style="color: #795e26;">muestraSalida</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_muestraEntrada</span>&nbsp;=&nbsp;<span style="color: #795e26;">muestraEntrada</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_muestraError</span>&nbsp;=&nbsp;<span style="color: #795e26;">muestraError</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_daoEntrada</span>&nbsp;=&nbsp;<span style="color: #001080;">daoEntrada</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_daoSalida</span>&nbsp;=&nbsp;<span style="color: #001080;">daoSalida</span>;</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #795e26;">setup</span>()&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">try</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_daoEntrada</span>.<span style="color: #795e26;">lee</span>(<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_muestraError</span>,&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_muestraEntrada</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">salida</span>&nbsp;=&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_daoSalida</span>.<span style="color: #795e26;">busca</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #795e26;">_muestraSalida</span>(<span style="color: #0070c1;">salida</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color: #af00db;">catch</span>&nbsp;(<span style="color: #001080;">error</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #795e26;">_muestraError</span>(<span style="color: #001080;">error</span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{number}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">valor</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #795e26;">modificaSalida</span>(<span style="color: #001080;">valor</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">try</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_daoSalida</span>.<span style="color: #795e26;">modifica</span>(<span style="color: #001080;">valor</span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color: #af00db;">catch</span>&nbsp;(<span style="color: #001080;">error</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #795e26;">_muestraError</span>(<span style="color: #001080;">error</span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;}</div><div>}</div></div></td>
            </tr>
          </table>
        </section>
        <section id=FabricaMovil slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="24"></td>
              <td class=cod><div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">CtrlHistorial</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./CtrlHistorial.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">CtrlMóvil</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./CtrlMovil.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">DaoEntradaMóvil</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./DaoEntradaMovil.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">DaoHistorialMóvil</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./DaoHistorialMovil.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">DaoSalidaMóvil</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./DaoSalidaMovil.js"</span>;</div><br><div><span style="color: #008000;">/**&nbsp;Usa&nbsp;el&nbsp;patrón&nbsp;Singleton.&nbsp;*/</span></div><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">class</span>&nbsp;<span style="color: #267f99;">FábricaMóvil</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">idDisp</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{(valor:&nbsp;number)&nbsp;=&gt;&nbsp;void}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">muestraEntrada</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{(valor:&nbsp;number)&nbsp;=&gt;&nbsp;void}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">muestraSalida</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{(error:&nbsp;Error)&nbsp;=&gt;&nbsp;void}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">muestraError</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">constructor</span>(<span style="color: #001080;">idDisp</span>,&nbsp;<span style="color: #795e26;">muestraEntrada</span>,&nbsp;<span style="color: #795e26;">muestraSalida</span>,&nbsp;<span style="color: #795e26;">muestraError</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #008000;">//&nbsp;@ts-ignore</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">firestore</span>&nbsp;=&nbsp;<span style="color: #001080;">firebase</span>.<span style="color: #795e26;">firestore</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">daoEntrada</span>&nbsp;=&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">DaoEntradaMóvil</span>(<span style="color: #0070c1;">firestore</span>,&nbsp;<span style="color: #001080;">idDisp</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">daoSalida</span>&nbsp;=&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">DaoSalidaMóvil</span>(<span style="color: #0070c1;">firestore</span>,&nbsp;<span style="color: #001080;">idDisp</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">daoHistorial</span>&nbsp;=&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">DaoHistorialMóvil</span>(<span style="color: #0070c1;">firestore</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">ctrlMóvil</span>&nbsp;=&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">CtrlMóvil</span>(<span style="color: #001080;">idDisp</span>,&nbsp;<span style="color: #795e26;">muestraEntrada</span>,&nbsp;<span style="color: #795e26;">muestraSalida</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">muestraError</span>,&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">daoEntrada</span>,&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">daoSalida</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">ctrlHistorial</span>&nbsp;=&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">CtrlHistorial</span>(<span style="color: #0000ff;">this</span>.<span style="color: #001080;">daoHistorial</span>);</div><div>&nbsp;&nbsp;}</div><div>}</div></div></td>
            </tr>
          </table>
        </section>
        <section id=index slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="61"></td>
              <td class=cod><div><div><span style="color: #800000;">&lt;!DOCTYPE</span>&nbsp;<span style="color: #ff0000;">html</span><span style="color: #800000;">&gt;</span></div><div><span style="color: #800000;">&lt;html</span>&nbsp;<span style="color: #ff0000;">lang</span>=<span style="color: #0000ff;">"es"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;<span style="color: #800000;">&lt;head&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;meta</span>&nbsp;<span style="color: #ff0000;">charset</span>=<span style="color: #0000ff;">"UTF-8"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;meta</span>&nbsp;<span style="color: #ff0000;">name</span>=<span style="color: #0000ff;">"viewport"</span>&nbsp;<span style="color: #ff0000;">content</span>=<span style="color: #0000ff;">"width=device-width,&nbsp;initial-scale=1.0"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;title&gt;</span>Control&nbsp;IoT<span style="color: #800000;">&lt;/title&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"https://www.gstatic.com/firebasejs/7.21.1/firebase-app.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"https://www.gstatic.com/firebasejs/7.21.1/firebase-firestore.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"js/init.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;link</span>&nbsp;<span style="color: #ff0000;">href</span>=<span style="color: #0000ff;">"css/estilos.css"</span>&nbsp;<span style="color: #ff0000;">rel</span>=<span style="color: #0000ff;">"stylesheet"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"module"</span>&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"cmp/mi-footer.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;<span style="color: #800000;">&lt;/head&gt;</span></div><div>&nbsp;&nbsp;<span style="color: #800000;">&lt;body&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;div</span>&nbsp;<span style="color: #ff0000;">class</span>=<span style="color: #0000ff;">"contenido"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;h1&gt;</span>Control&nbsp;IoT<span style="color: #800000;">&lt;/h1&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;p&gt;&lt;a</span>&nbsp;<span style="color: #ff0000;">href</span>=<span style="color: #0000ff;">"dispositivo.html"</span>&nbsp;<span style="color: #ff0000;">target</span>=<span style="color: #0000ff;">"_blank"</span><span style="color: #800000;">&gt;</span>Ver&nbsp;dispositivo.<span style="color: #800000;">&lt;/a&gt;&lt;/p&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;p&gt;&lt;a</span>&nbsp;<span style="color: #ff0000;">href</span>=<span style="color: #0000ff;">"historial.html"</span><span style="color: #800000;">&gt;</span>Ver&nbsp;historial.<span style="color: #800000;">&lt;/a&gt;&lt;/p&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;p&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;label&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dispositivo</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;output</span>&nbsp;<span style="color: #ff0000;">id</span>=<span style="color: #0000ff;">"ctDispositivo"</span><span style="color: #800000;">&gt;&lt;/output&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/label&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/p&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;p&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;label&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Entrada</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;meter</span>&nbsp;<span style="color: #ff0000;">id</span>=<span style="color: #0000ff;">ctEntrada</span>&nbsp;<span style="color: #ff0000;">min</span>=<span style="color: #0000ff;">"0"</span>&nbsp;<span style="color: #ff0000;">max</span>=<span style="color: #0000ff;">"10"</span><span style="color: #800000;">&gt;&lt;/meter&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/label&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/p&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;p&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;label&gt;&lt;input</span>&nbsp;<span style="color: #ff0000;">id</span>=<span style="color: #0000ff;">ctSalida</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"checkbox"</span><span style="color: #800000;">&gt;</span>&nbsp;Salida<span style="color: #800000;">&lt;/label&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/p&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;mi-footer&gt;&lt;/mi-footer&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/div&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"module"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">FábricaMóvil</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"/js/FabricaMovil.js"</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">muestraError</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"/lib/util.js"</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">idDisp</span>&nbsp;=&nbsp;<span style="color: #795e26;">prompt</span>(<span style="color: #a31515;">"Identificador&nbsp;del&nbsp;Dispositivo"</span>,&nbsp;<span style="color: #a31515;">"iot1"</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">if</span>&nbsp;(<span style="color: #0070c1;">idDisp</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">fábrica</span>&nbsp;=&nbsp;<span style="color: #267f99;">Object</span>.<span style="color: #795e26;">freeze</span>(<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">FábricaMóvil</span>(<span style="color: #0070c1;">idDisp</span>,&nbsp;<span style="color: #795e26;">muestraEntrada</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">muestraSalida</span>,&nbsp;<span style="color: #001080;">muestraError</span>));</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">ctrlMóvil</span>&nbsp;=&nbsp;<span style="color: #0070c1;">fábrica</span>.<span style="color: #001080;">ctrlMóvil</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">ctSalida</span>.<span style="color: #795e26;">addEventListener</span>(<span style="color: #a31515;">"click"</span>,&nbsp;<span style="color: #795e26;">modificaSalida</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">ctDispositivo</span>.<span style="color: #001080;">value</span>&nbsp;=&nbsp;<span style="color: #0070c1;">idDisp</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0070c1;">ctrlMóvil</span>.<span style="color: #795e26;">setup</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">muestraEntrada</span>(<span style="color: #001080;">valor</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">ctEntrada</span>.<span style="color: #001080;">value</span>&nbsp;=&nbsp;<span style="color: #001080;">valor</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">muestraSalida</span>(<span style="color: #001080;">valor</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">ctSalida</span>.<span style="color: #001080;">checked</span>&nbsp;=&nbsp;<span style="color: #267f99;">Boolean</span>(<span style="color: #001080;">valor</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">modificaSalida</span>()&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">valor</span>&nbsp;=&nbsp;<span style="color: #001080;">ctSalida</span>.<span style="color: #001080;">checked</span>&nbsp;?&nbsp;<span style="color: #098658;">1</span>&nbsp;:&nbsp;<span style="color: #098658;">0</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0070c1;">ctrlMóvil</span>.<span style="color: #795e26;">modificaSalida</span>(<span style="color: #0070c1;">valor</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/script&gt;</span></div><div>&nbsp;&nbsp;<span style="color: #800000;">&lt;/body&gt;</span></div><div><span style="color: #800000;">&lt;/html&gt;</span></div></div></td>
            </tr>
          </table>
        </section>
        <section id=historial slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="52"></td>
              <td class=cod><div><div><span style="color: #800000;">&lt;!DOCTYPE</span>&nbsp;<span style="color: #ff0000;">html</span><span style="color: #800000;">&gt;</span></div><div><span style="color: #800000;">&lt;html</span>&nbsp;<span style="color: #ff0000;">lang</span>=<span style="color: #0000ff;">"es"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;<span style="color: #800000;">&lt;head&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;meta</span>&nbsp;<span style="color: #ff0000;">charset</span>=<span style="color: #0000ff;">"UTF-8"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;meta</span>&nbsp;<span style="color: #ff0000;">name</span>=<span style="color: #0000ff;">"viewport"</span>&nbsp;<span style="color: #ff0000;">content</span>=<span style="color: #0000ff;">"width=device-width,&nbsp;initial-scale=1.0"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;title&gt;</span>Historial&nbsp;IoT<span style="color: #800000;">&lt;/title&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"https://www.gstatic.com/firebasejs/7.21.1/firebase-app.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"https://www.gstatic.com/firebasejs/7.21.1/firebase-firestore.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"js/init.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;link</span>&nbsp;<span style="color: #ff0000;">href</span>=<span style="color: #0000ff;">"css/estilos.css"</span>&nbsp;<span style="color: #ff0000;">rel</span>=<span style="color: #0000ff;">"stylesheet"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"module"</span>&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"cmp/mi-footer.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;<span style="color: #800000;">&lt;/head&gt;</span></div><div>&nbsp;&nbsp;<span style="color: #800000;">&lt;body&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;div</span>&nbsp;<span style="color: #ff0000;">class</span>=<span style="color: #0000ff;">"contenido"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;table&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;thead&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;tr&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;th&gt;</span>id<span style="color: #800000;">&lt;/th&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;th&gt;</span>Dispositivo<span style="color: #800000;">&lt;/th&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;th&gt;</span>Valor<span style="color: #800000;">&lt;/th&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;th&gt;</span>Timestamp<span style="color: #800000;">&lt;/th&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/tr&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/thead&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;tbody</span>&nbsp;<span style="color: #ff0000;">id</span>=<span style="color: #0000ff;">"tbody"</span><span style="color: #800000;">&gt;&lt;/tbody&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/table&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/div&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"module"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">FábricaMóvil</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"/js/FabricaMovil.js"</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">muestraError</span>,&nbsp;<span style="color: #001080;">cod</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"/lib/util.js"</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">fábrica</span>&nbsp;=</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #267f99;">Object</span>.<span style="color: #795e26;">freeze</span>(<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">FábricaMóvil</span>(<span style="color: #0000ff;">null</span>,&nbsp;<span style="color: #0000ff;">null</span>,&nbsp;<span style="color: #0000ff;">null</span>,&nbsp;<span style="color: #001080;">muestraError</span>));</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">ctrlHistorial</span>&nbsp;=&nbsp;<span style="color: #0070c1;">fábrica</span>.<span style="color: #001080;">ctrlHistorial</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">setup</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">setup</span>()&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">try</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">registros</span>&nbsp;=&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0070c1;">ctrlHistorial</span>.<span style="color: #795e26;">consultaHistorial</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">tbody</span>.<span style="color: #001080;">innerHTML</span>&nbsp;=&nbsp;<span style="color: #0070c1;">registros</span>.<span style="color: #795e26;">map</span>(<span style="color: #001080;">h</span>&nbsp;<span style="color: #0000ff;">=&gt;</span>&nbsp;<span style="color: #008000;">/*&nbsp;html&nbsp;*/</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`<span style="color: #800000;">&lt;tr&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;td&gt;${</span><span style="color: #795e26;">cod</span>(<span style="color: #001080;">h</span>.<span style="color: #001080;">id</span>)<span style="color: #800000;">}&lt;/td&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;td&gt;${</span><span style="color: #795e26;">cod</span>(<span style="color: #001080;">h</span>.<span style="color: #001080;">dispositivo</span>)<span style="color: #800000;">}&lt;/td&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;td&gt;${</span><span style="color: #795e26;">cod</span>(<span style="color: #001080;">h</span>.<span style="color: #001080;">valor</span>)<span style="color: #800000;">}&lt;/td&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;td&gt;${</span><span style="color: #795e26;">cod</span>(<span style="color: #001080;">h</span>.<span style="color: #001080;">timestamp</span>)<span style="color: #800000;">}&lt;/td&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/tr&gt;</span>`).join("");</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color: #795e26;">catch</span>&nbsp;(<span style="color: #001080;">error</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">muestraError</span>(<span style="color: #001080;">error</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/<span style="color: #001080;">script</span>&gt;</div><div>&nbsp;&nbsp;&lt;/<span style="color: #001080;">body</span>&gt;</div><div>&lt;/<span style="color: #001080;">html</span>&gt;</div></div></td>
            </tr>
          </table>
        </section>
        <section id=ComponentesDispositivo slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <div class="marco-lectura">
            <figure>
              <img class="dc" src="img/componentes_iot.svg" alt="Componentes del Dispositivo">
            </figure>
          </div>
        </section>
        <section id=ClasesDispositivo slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <div class="marco-lectura">
            <figure>
              <img class="dc" src="img/clases_dispositivo.svg" alt="Clases del Dispositivo">
            </figure>
          </div>
        </section>
        <section id=utilIoT slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="38"></td>
              <td class=cod><div><div><span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">HEADERS_JSON</span>&nbsp;=&nbsp;{&nbsp;<span style="color: #a31515;">"Content-Type"</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #a31515;">"application/json"</span>&nbsp;};</div><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">MÉTODO_AGREGA</span>&nbsp;=&nbsp;<span style="color: #a31515;">"POST"</span>;</div><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">MÉTODO_CAMBIOS</span>&nbsp;=&nbsp;<span style="color: #a31515;">"PATCH"</span>;</div><div><span style="color: #008000;">/**</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">url</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">método</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">json</span></div><div><span style="color: #008000;">&nbsp;*/</span></div><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">envíaJson</span>(<span style="color: #001080;">url</span>,&nbsp;<span style="color: #001080;">método</span>,&nbsp;<span style="color: #001080;">json</span>)&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">resp</span>&nbsp;=&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #795e26;">fetch</span>(<span style="color: #001080;">url</span>,&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">method</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #001080;">método</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">body</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #001080;">json</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">headers</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #0070c1;">HEADERS_JSON</span>,</div><div>&nbsp;&nbsp;});</div><div>&nbsp;&nbsp;<span style="color: #af00db;">if</span>&nbsp;(!<span style="color: #0070c1;">resp</span>.<span style="color: #0070c1;">ok</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">throw</span>&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">Error</span>(<span style="color: #0070c1;">resp</span>.<span style="color: #0070c1;">statusText</span>);</div><div>&nbsp;&nbsp;}</div><div>}</div><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">getTimestamp</span>()&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">date</span>&nbsp;=&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">Date</span>();</div><div>&nbsp;&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #0070c1;">date</span>.<span style="color: #795e26;">toJSON</span>();</div><div>}</div><div><span style="color: #008000;">/**</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">proyecto</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">colección</span></div><div><span style="color: #008000;">&nbsp;*/</span></div><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">urlDeColección</span>(<span style="color: #001080;">proyecto</span>,&nbsp;<span style="color: #001080;">colección</span>)&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #a31515;">"https://firestore.googleapis.com/v1/projects/"</span>&nbsp;+</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">proyecto</span>&nbsp;+&nbsp;<span style="color: #a31515;">"/databases/(default)/documents/"</span>&nbsp;+&nbsp;<span style="color: #001080;">colección</span>;</div><div>}</div><div><span style="color: #008000;">/**</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">proyecto</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">colección</span></div><div><span style="color: #008000;">&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">id</span></div><div><span style="color: #008000;">&nbsp;*/</span></div><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">urlDeDocumento</span>(<span style="color: #001080;">proyecto</span>,&nbsp;<span style="color: #001080;">colección</span>,&nbsp;<span style="color: #001080;">id</span>)&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #a31515;">`</span><span style="color: #0000ff;">${</span><span style="color: #795e26;">urlDeColección</span>(<span style="color: #001080;">proyecto</span>,&nbsp;<span style="color: #001080;">colección</span>)<span style="color: #0000ff;">}</span><span style="color: #a31515;">/</span><span style="color: #0000ff;">${</span><span style="color: #001080;">id</span><span style="color: #0000ff;">}</span><span style="color: #a31515;">`</span>;</div><div>}</div></div></td>
            </tr>
          </table>
        </section>
        <section id=DaoEntradaDispositivo slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="20"></td>
              <td class=cod><div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">valida</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"../lib/util.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">envíaJson</span>,&nbsp;<span style="color: #001080;">MÉTODO_CAMBIOS</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./utilIoT.js"</span>;</div><br><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">class</span>&nbsp;<span style="color: #267f99;">DaoEntradaDispositivo</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">url</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">constructor</span>(<span style="color: #001080;">url</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_url</span>&nbsp;=&nbsp;<span style="color: #001080;">url</span>;</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{number}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">valor</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@returns</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Promise&lt;void&gt;}</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #795e26;">modifica</span>(<span style="color: #001080;">valor</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">valida</span>(<span style="color: #001080;">valor</span>&nbsp;!==&nbsp;<span style="color: #0000ff;">null</span>&nbsp;&amp;&amp;&nbsp;<span style="color: #001080;">valor</span>&nbsp;!==&nbsp;<span style="color: #0000ff;">undefined</span>&nbsp;&amp;&amp;&nbsp;!<span style="color: #795e26;">isNaN</span>(<span style="color: #001080;">valor</span>),</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a31515;">"Falta&nbsp;el&nbsp;valor&nbsp;de&nbsp;la&nbsp;entrada."</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">infoEntrada</span>&nbsp;=&nbsp;{&nbsp;<span style="color: #001080;">fields</span><span style="color: #001080;">:</span>&nbsp;{&nbsp;<span style="color: #001080;">VALOR</span><span style="color: #001080;">:</span>&nbsp;{&nbsp;<span style="color: #001080;">integerValue</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #001080;">valor</span>&nbsp;}&nbsp;}&nbsp;};</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">json</span>&nbsp;=&nbsp;<span style="color: #001080;">JSON</span>.<span style="color: #795e26;">stringify</span>(<span style="color: #0070c1;">infoEntrada</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #795e26;">envíaJson</span>(<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_url</span>,&nbsp;<span style="color: #0070c1;">MÉTODO_CAMBIOS</span>,&nbsp;<span style="color: #0070c1;">json</span>);</div><div>&nbsp;&nbsp;}</div><div>}</div></div></td>
            </tr>
          </table>
        </section>
        <section id=DaoHistorialDispositivo slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="30"></td>
              <td class=cod><div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">valida</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"../lib/util.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">envíaJson</span>,&nbsp;<span style="color: #001080;">getTimestamp</span>,&nbsp;<span style="color: #001080;">MÉTODO_AGREGA</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./utilIoT.js"</span>;</div><br><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">class</span>&nbsp;<span style="color: #267f99;">DaoHistorialDispositivo</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">idDisp</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">url</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">constructor</span>(<span style="color: #001080;">idDisp</span>,<span style="color: #001080;">url</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_idDisp</span>&nbsp;=&nbsp;<span style="color: #001080;">idDisp</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_url</span>&nbsp;=&nbsp;<span style="color: #001080;">url</span>;</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{number}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">valor</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@returns</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Promise&lt;void&gt;}</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #795e26;">agrega</span>(<span style="color: #001080;">valor</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">valida</span>(<span style="color: #001080;">valor</span>&nbsp;!==&nbsp;<span style="color: #0000ff;">null</span>&nbsp;&amp;&amp;&nbsp;<span style="color: #001080;">valor</span>&nbsp;!==&nbsp;<span style="color: #0000ff;">undefined</span>&nbsp;&amp;&amp;&nbsp;!<span style="color: #795e26;">isNaN</span>(<span style="color: #001080;">valor</span>),</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a31515;">"Falta&nbsp;el&nbsp;valor&nbsp;de&nbsp;la&nbsp;entrada."</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">timestamp</span>&nbsp;=&nbsp;<span style="color: #795e26;">getTimestamp</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">historial</span>&nbsp;=&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">fields</span><span style="color: #001080;">:</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">DISP_ID</span><span style="color: #001080;">:</span>&nbsp;{&nbsp;<span style="color: #001080;">stringValue</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_idDisp</span>&nbsp;},</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">HIST_TS</span><span style="color: #001080;">:</span>&nbsp;{&nbsp;<span style="color: #001080;">timestampValue</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #0070c1;">timestamp</span>&nbsp;},</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">VALOR</span><span style="color: #001080;">:</span>&nbsp;{&nbsp;<span style="color: #001080;">integerValue</span><span style="color: #001080;">:</span>&nbsp;<span style="color: #001080;">valor</span>&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;};</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">json</span>&nbsp;=&nbsp;<span style="color: #001080;">JSON</span>.<span style="color: #795e26;">stringify</span>(<span style="color: #0070c1;">historial</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #795e26;">envíaJson</span>(<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_url</span>,&nbsp;<span style="color: #0070c1;">MÉTODO_AGREGA</span>,&nbsp;<span style="color: #0070c1;">json</span>);</div><div>&nbsp;&nbsp;}</div><div>}</div></div></td>
            </tr>
          </table>
        </section>
        <section id=DaoSalidaDispositivo slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="21"></td>
              <td class=cod><div><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">class</span>&nbsp;<span style="color: #267f99;">DaoSalidaDispositivo</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">url</span><span style="color: #008000;">&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">constructor</span>(<span style="color: #001080;">url</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_url</span>&nbsp;=&nbsp;<span style="color: #001080;">url</span>;</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@returns</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{Promise&lt;number&gt;}</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #795e26;">busca</span>()&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">resp</span>&nbsp;=&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #795e26;">fetch</span>(<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_url</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">if</span>&nbsp;(<span style="color: #0070c1;">resp</span>.<span style="color: #0070c1;">ok</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">json</span>&nbsp;=&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0070c1;">resp</span>.<span style="color: #795e26;">json</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">valor</span>&nbsp;=&nbsp;<span style="color: #0070c1;">json</span>.<span style="color: #001080;">fields</span>.<span style="color: #0070c1;">VALOR</span>&nbsp;&amp;&amp;&nbsp;<span style="color: #0070c1;">json</span>.<span style="color: #001080;">fields</span>.<span style="color: #0070c1;">VALOR</span>.<span style="color: #001080;">integerValue</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #0070c1;">valor</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color: #af00db;">else</span>&nbsp;<span style="color: #af00db;">if</span>&nbsp;(<span style="color: #0070c1;">resp</span>.<span style="color: #0070c1;">status</span>&nbsp;===&nbsp;<span style="color: #098658;">404</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #098658;">0</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color: #af00db;">else</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">throw</span>&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">Error</span>(<span style="color: #0070c1;">resp</span>.<span style="color: #0070c1;">statusText</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;}</div><div>}</div></div></td>
            </tr>
          </table>
        </section>
        <section id=CtrlDispositivo slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="63"></td>
              <td class=cod><div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">DaoEntradaDispositivo</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./DaoEntradaDispositivo.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">DaoHistorialDispositivo</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./DaoHistorialDispositivo.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">DaoSalidaDispositivo</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./DaoSalidaDispositivo.js"</span>;</div><br><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">class</span>&nbsp;<span style="color: #267f99;">CtrlDispositivo</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">idDisp</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{()&nbsp;=&gt;&nbsp;boolean}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">sondeaSalida</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{(valor:&nbsp;number)&nbsp;=&gt;&nbsp;void}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">muestraSalida</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{()&nbsp;=&gt;&nbsp;number}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">recuperaEntrada</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{(valor:&nbsp;Error)&nbsp;=&gt;&nbsp;void}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">muestraError</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{DaoHistorialDispositivo}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">daoHistorial</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{DaoEntradaDispositivo}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">daoEntrada</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{DaoSalidaDispositivo}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">daoSalida</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">constructor</span>(<span style="color: #001080;">idDisp</span>,&nbsp;<span style="color: #795e26;">sondeaSalida</span>,&nbsp;<span style="color: #795e26;">muestraSalida</span>,&nbsp;<span style="color: #795e26;">recuperaEntrada</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">muestraError</span>,&nbsp;<span style="color: #001080;">daoHistorial</span>,&nbsp;<span style="color: #001080;">daoEntrada</span>,&nbsp;<span style="color: #001080;">daoSalida</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_idDisp</span>&nbsp;=&nbsp;<span style="color: #001080;">idDisp</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_entrada</span>&nbsp;=&nbsp;<span style="color: #0000ff;">null</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_sondeaSalida</span>&nbsp;=&nbsp;<span style="color: #795e26;">sondeaSalida</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_muestraSalida</span>&nbsp;=&nbsp;<span style="color: #795e26;">muestraSalida</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_recuperaEntrada</span>&nbsp;=&nbsp;<span style="color: #795e26;">recuperaEntrada</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_muestraError</span>&nbsp;=&nbsp;<span style="color: #795e26;">muestraError</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_daoHistorial</span>&nbsp;=&nbsp;<span style="color: #001080;">daoHistorial</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_daoEntrada</span>&nbsp;=&nbsp;<span style="color: #001080;">daoEntrada</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_daoSalida</span>&nbsp;=&nbsp;<span style="color: #001080;">daoSalida</span>;</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #795e26;">setup</span>()&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_entrada</span>&nbsp;=&nbsp;<span style="color: #098658;">0</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #795e26;">_muestraLaSalidaDelServidor</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #795e26;">_envíaLaEntrada</span>(<span style="color: #0000ff;">true</span>);</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #795e26;">loop</span>()&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #795e26;">_muestraLaSalidaDelServidor</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #795e26;">_envíaLaEntrada</span>(<span style="color: #0000ff;">false</span>);</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #795e26;">_muestraLaSalidaDelServidor</span>()&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">try</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">if</span>&nbsp;(<span style="color: #0000ff;">this</span>.<span style="color: #795e26;">_sondeaSalida</span>())&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">salida</span>&nbsp;=&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_daoSalida</span>.<span style="color: #795e26;">busca</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #795e26;">_muestraSalida</span>(<span style="color: #0070c1;">salida</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color: #af00db;">catch</span>&nbsp;(<span style="color: #001080;">error</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #795e26;">_muestraSalida</span>(<span style="color: #098658;">0</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #795e26;">_muestraError</span>(<span style="color: #001080;">error</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{boolean}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">forzosa</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #795e26;">_envíaLaEntrada</span>(<span style="color: #001080;">forzosa</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">try</span>&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">nuevaEntrada</span>&nbsp;=&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #795e26;">_recuperaEntrada</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">if</span>&nbsp;(<span style="color: #001080;">forzosa</span>&nbsp;||&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_entrada</span>&nbsp;!=&nbsp;<span style="color: #0070c1;">nuevaEntrada</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_daoEntrada</span>.<span style="color: #795e26;">modifica</span>(<span style="color: #0070c1;">nuevaEntrada</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_daoHistorial</span>.<span style="color: #795e26;">agrega</span>(<span style="color: #0070c1;">nuevaEntrada</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">_entrada</span>&nbsp;=&nbsp;<span style="color: #0070c1;">nuevaEntrada</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color: #af00db;">catch</span>&nbsp;(<span style="color: #001080;">e</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #795e26;">_muestraError</span>(<span style="color: #001080;">e</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;}</div><div>}</div></div></td>
            </tr>
          </table>
        </section>
        <section id=FabricaDispositivo slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <div class="marco-lectura">
            <p>
              Sustituye los * de ID_PROYECTO por el nombre de tu proyecto de
              Firebase.
            </p>
          </div>
          <table>
            <tr>
              <td class=nums data-total="28"></td>
              <td class=cod><div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">CtrlDispositivo</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./CtrlDispositivo.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">DaoEntradaDispositivo</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./DaoEntradaDispositivo.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">DaoHistorialDispositivo</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./DaoHistorialDispositivo.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">DaoSalidaDispositivo</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./DaoSalidaDispositivo.js"</span>;</div><div><span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">urlDeColección</span>,&nbsp;<span style="color: #001080;">urlDeDocumento</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"./utilIoT.js"</span>;</div><br><div><span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">ID_PROYECTO</span>&nbsp;=&nbsp;<span style="color: #a31515;">"*******"</span>;</div><br><div><span style="color: #af00db;">export</span>&nbsp;<span style="color: #0000ff;">class</span>&nbsp;<span style="color: #267f99;">FábricaDispositivo</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #008000;">/**&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{string}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">idDisp</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{()&nbsp;=&gt;&nbsp;boolean}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">sondeaSalida</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{(valor:&nbsp;number)&nbsp;=&gt;&nbsp;void}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">muestraSalida</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{()&nbsp;=&gt;&nbsp;number}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">recuperaEntrada</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*&nbsp;</span><span style="color: #0000ff;">@param</span><span style="color: #008000;">&nbsp;</span><span style="color: #267f99;">{(valor:&nbsp;Error)&nbsp;=&gt;&nbsp;void}</span><span style="color: #008000;">&nbsp;</span><span style="color: #001080;">muestraError</span></div><div><span style="color: #008000;">&nbsp;&nbsp;&nbsp;*/</span></div><div>&nbsp;&nbsp;<span style="color: #0000ff;">constructor</span>(<span style="color: #001080;">idDisp</span>,&nbsp;<span style="color: #795e26;">sondeaSalida</span>,&nbsp;<span style="color: #795e26;">muestraSalida</span>,&nbsp;<span style="color: #795e26;">recuperaEntrada</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">muestraError</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">urlEntrada</span>&nbsp;=&nbsp;<span style="color: #795e26;">urlDeDocumento</span>(<span style="color: #0070c1;">ID_PROYECTO</span>,&nbsp;<span style="color: #a31515;">"ENTRADA"</span>,&nbsp;<span style="color: #001080;">idDisp</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">urlSalida</span>&nbsp;=&nbsp;<span style="color: #795e26;">urlDeDocumento</span>(<span style="color: #0070c1;">ID_PROYECTO</span>,&nbsp;<span style="color: #a31515;">"SALIDA"</span>,&nbsp;<span style="color: #001080;">idDisp</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">urlHistoria</span>&nbsp;=&nbsp;<span style="color: #795e26;">urlDeColección</span>(<span style="color: #0070c1;">ID_PROYECTO</span>,&nbsp;<span style="color: #a31515;">"HISTORIAL"</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">daoEntrada</span>&nbsp;=&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">DaoEntradaDispositivo</span>(<span style="color: #0070c1;">urlEntrada</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">daoSalida</span>&nbsp;=&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">DaoSalidaDispositivo</span>(<span style="color: #0070c1;">urlSalida</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">daoHistorial</span>&nbsp;=&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">DaoHistorialDispositivo</span>(<span style="color: #001080;">idDisp</span>,&nbsp;<span style="color: #0070c1;">urlHistoria</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">ctrlDispositivo</span>&nbsp;=&nbsp;<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">CtrlDispositivo</span>(<span style="color: #001080;">idDisp</span>,&nbsp;<span style="color: #795e26;">sondeaSalida</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">muestraSalida</span>,&nbsp;<span style="color: #795e26;">recuperaEntrada</span>,&nbsp;<span style="color: #795e26;">muestraError</span>,&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">daoHistorial</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">daoEntrada</span>,&nbsp;<span style="color: #0000ff;">this</span>.<span style="color: #001080;">daoSalida</span>);</div><div>&nbsp;&nbsp;}</div><div>}</div></div></td>
            </tr>
          </table>
        </section>
        <section id=dispositivo slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="78"></td>
              <td class=cod><div><div><span style="color: #800000;">&lt;!DOCTYPE</span>&nbsp;<span style="color: #ff0000;">html</span><span style="color: #800000;">&gt;</span></div><div><span style="color: #800000;">&lt;html</span>&nbsp;<span style="color: #ff0000;">lang</span>=<span style="color: #0000ff;">"es"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;<span style="color: #800000;">&lt;head&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;meta</span>&nbsp;<span style="color: #ff0000;">charset</span>=<span style="color: #0000ff;">"UTF-8"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;meta</span>&nbsp;<span style="color: #ff0000;">name</span>=<span style="color: #0000ff;">"viewport"</span>&nbsp;<span style="color: #ff0000;">content</span>=<span style="color: #0000ff;">"width=device-width,&nbsp;initial-scale=1.0"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;title&gt;</span>Dispositivo&nbsp;IoT<span style="color: #800000;">&lt;/title&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;link</span>&nbsp;<span style="color: #ff0000;">href</span>=<span style="color: #0000ff;">"css/estilos.css"</span>&nbsp;<span style="color: #ff0000;">rel</span>=<span style="color: #0000ff;">"stylesheet"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"module"</span>&nbsp;<span style="color: #ff0000;">src</span>=<span style="color: #0000ff;">"cmp/mi-footer.js"</span><span style="color: #800000;">&gt;&lt;/script&gt;</span></div><div>&nbsp;&nbsp;<span style="color: #800000;">&lt;/head&gt;</span></div><div>&nbsp;&nbsp;<span style="color: #800000;">&lt;body&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;div</span>&nbsp;<span style="color: #ff0000;">class</span>=<span style="color: #0000ff;">"contenido"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;h1&gt;</span>Dispositivo&nbsp;IoT<span style="color: #800000;">&lt;/h1&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;p&gt;&lt;a</span>&nbsp;<span style="color: #ff0000;">href</span>=<span style="color: #0000ff;">"index.html"</span>&nbsp;<span style="color: #ff0000;">target</span>=<span style="color: #0000ff;">"_blank"</span><span style="color: #800000;">&gt;</span>Ver&nbsp;móvil.<span style="color: #800000;">&lt;/a&gt;&lt;/p&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;p&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;label&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dispositivo</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;output</span>&nbsp;<span style="color: #ff0000;">id</span>=<span style="color: #0000ff;">"ctDispositivo"</span><span style="color: #800000;">&gt;&lt;/output&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/label&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/p&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;p&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;label&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Entrada</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;input</span>&nbsp;<span style="color: #ff0000;">id</span>=<span style="color: #0000ff;">"ctEntrada"</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"range"</span>&nbsp;<span style="color: #ff0000;">min</span>=<span style="color: #0000ff;">"0"</span>&nbsp;<span style="color: #ff0000;">max</span>=<span style="color: #0000ff;">"10"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/label&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/p&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;p&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;label&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;input</span>&nbsp;<span style="color: #ff0000;">id</span>=<span style="color: #0000ff;">ctSondeaSalida</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"checkbox"</span>&nbsp;<span style="color: #ff0000;">checked</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sondea&nbsp;Salida</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/label&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/p&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;p&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;label&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Salida</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;output</span>&nbsp;<span style="color: #ff0000;">id</span>=<span style="color: #0000ff;">"ctSalida"</span><span style="color: #800000;">&gt;&lt;/output&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/label&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/p&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;p&gt;&lt;output</span>&nbsp;<span style="color: #ff0000;">id</span>=<span style="color: #0000ff;">"iotError"</span><span style="color: #800000;">&gt;&lt;/output&gt;&lt;/p&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;mi-footer&gt;&lt;/mi-footer&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/div&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;script</span>&nbsp;<span style="color: #ff0000;">type</span>=<span style="color: #0000ff;">"module"</span><span style="color: #800000;">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">import</span>&nbsp;{&nbsp;<span style="color: #001080;">FábricaDispositivo</span>&nbsp;}&nbsp;<span style="color: #af00db;">from</span>&nbsp;<span style="color: #a31515;">"/dispositivo/FabricaDispositivo.js"</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">sondeaSalida</span>()&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #001080;">ctSondeaSalida</span>.<span style="color: #001080;">checked</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">muestraSalida</span>(<span style="color: #001080;">valor</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">ctSalida</span>.<span style="color: #001080;">value</span>&nbsp;=&nbsp;<span style="color: #001080;">valor</span>&nbsp;||&nbsp;<span style="color: #a31515;">"0"</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">recuperaEntrada</span>()&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">return</span>&nbsp;<span style="color: #001080;">ctEntrada</span>.<span style="color: #001080;">valueAsNumber</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">muestraError</span>(<span style="color: #001080;">error</span>)&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">console</span>.<span style="color: #795e26;">error</span>(<span style="color: #001080;">error</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">iotError</span>.<span style="color: #001080;">value</span>&nbsp;=&nbsp;<span style="color: #001080;">error</span>.<span style="color: #001080;">message</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">idDisp</span>&nbsp;=&nbsp;<span style="color: #795e26;">prompt</span>(<span style="color: #a31515;">"Identificador&nbsp;del&nbsp;Dispositivo"</span>,&nbsp;<span style="color: #a31515;">"iot1"</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">fábrica</span>&nbsp;=&nbsp;<span style="color: #267f99;">Object</span>.<span style="color: #795e26;">freeze</span>(<span style="color: #0000ff;">new</span>&nbsp;<span style="color: #267f99;">FábricaDispositivo</span>(<span style="color: #0070c1;">idDisp</span>,</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">sondeaSalida</span>,&nbsp;<span style="color: #795e26;">muestraSalida</span>,&nbsp;<span style="color: #795e26;">recuperaEntrada</span>,&nbsp;<span style="color: #795e26;">muestraError</span>));</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">const</span>&nbsp;<span style="color: #0070c1;">ctrlDispositivo</span>&nbsp;=&nbsp;<span style="color: #0070c1;">fábrica</span>.<span style="color: #001080;">ctrlDispositivo</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #001080;">ctDispositivo</span>.<span style="color: #001080;">value</span>&nbsp;=&nbsp;<span style="color: #0070c1;">idDisp</span>;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">setup</span>()&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0070c1;">ctrlDispositivo</span>.<span style="color: #795e26;">setup</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">loop</span>()&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #0070c1;">ctrlDispositivo</span>.<span style="color: #795e26;">loop</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">programa</span>()&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #795e26;">setup</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #795e26;">repiteLoop</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000ff;">async</span>&nbsp;<span style="color: #0000ff;">function</span>&nbsp;<span style="color: #795e26;">repiteLoop</span>()&nbsp;{</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #af00db;">await</span>&nbsp;<span style="color: #795e26;">loop</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">setTimeout</span>(<span style="color: #795e26;">repiteLoop</span>,&nbsp;<span style="color: #098658;">1000</span>);</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #795e26;">programa</span>();</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #800000;">&lt;/script&gt;</span></div><div>&nbsp;&nbsp;<span style="color: #800000;">&lt;/body&gt;</span></div><div><span style="color: #800000;">&lt;/html&gt;</span></div></div></td>
            </tr>
          </table>
        </section>
        <section id=estilos slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="21"></td>
              <td class=cod><div><div><span style="color: #800000;">body</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">font-family</span>:&nbsp;<span style="color: #0451a5;">sans-serif</span>;</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">text-align</span>:&nbsp;<span style="color: #0451a5;">center</span>;</div><div>}</div><br><div><span style="color: #800000;">.contenido</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">display</span>:&nbsp;<span style="color: #0451a5;">inline-block</span>;</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">text-align</span>:&nbsp;<span style="color: #0451a5;">start</span>;</div><div>}</div><br><div><span style="color: #800000;">p</span>&gt;<span style="color: #800000;">label</span>&gt;<span style="color: #800000;">meter</span>,</div><div><span style="color: #800000;">p</span>&gt;<span style="color: #800000;">label</span>&gt;<span style="color: #800000;">input</span>[<span style="color: #ff0000;">type</span>=<span style="color: #a31515;">range</span>],</div><div><span style="color: #800000;">p</span>&gt;<span style="color: #800000;">label</span>&gt;<span style="color: #800000;">output</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">display</span>:&nbsp;<span style="color: #0451a5;">block</span>;</div><div>}</div><br><div><span style="color: #800000;">mi-footer</span>&nbsp;{</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">display</span>:&nbsp;<span style="color: #0451a5;">block</span>;</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">margin</span>:&nbsp;<span style="color: #098658;">1rem</span>&nbsp;<span style="color: #098658;">0</span>;</div><div>&nbsp;&nbsp;<span style="color: #ff0000;">font-size</span>:&nbsp;<span style="color: #0451a5;">small</span>;</div><div>}</div></div></td>
            </tr>
          </table>
        </section>
        <section id=README slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="4"></td>
              <td class=cod><div><div><span style="color: #800000;font-weight: bold;">#&nbsp;gilpgiot.github.io</span></div><div>Ejemplo&nbsp;de&nbsp;IoT&nbsp;con&nbsp;Firestore.</div><br><div>https://gilpgiot.github.io</div></div></td>
            </tr>
          </table>
        </section>
        <section id=LICENSE slot=diapositiva>
          <div class="cortina"></div>
          <header></header>
          <h2></h2>
          <table>
            <tr>
              <td class=nums data-total="122"></td>
              <td class=cod><div>Creative Commons Legal Code</div><div><br></div><div>CC0 1.0 Universal</div><div><br></div><div>&nbsp; &nbsp; CREATIVE COMMONS CORPORATION IS NOT A LAW FIRM AND DOES NOT PROVIDE</div><div>&nbsp; &nbsp; LEGAL SERVICES. DISTRIBUTION OF THIS DOCUMENT DOES NOT CREATE AN</div><div>&nbsp; &nbsp; ATTORNEY-CLIENT RELATIONSHIP. CREATIVE COMMONS PROVIDES THIS</div><div>&nbsp; &nbsp; INFORMATION ON AN "AS-IS" BASIS. CREATIVE COMMONS MAKES NO WARRANTIES</div><div>&nbsp; &nbsp; REGARDING THE USE OF THIS DOCUMENT OR THE INFORMATION OR WORKS</div><div>&nbsp; &nbsp; PROVIDED HEREUNDER, AND DISCLAIMS LIABILITY FOR DAMAGES RESULTING FROM</div><div>&nbsp; &nbsp; THE USE OF THIS DOCUMENT OR THE INFORMATION OR WORKS PROVIDED</div><div>&nbsp; &nbsp; HEREUNDER.</div><div><br></div><div>Statement of Purpose</div><div><br></div><div>The laws of most jurisdictions throughout the world automatically confer</div><div>exclusive Copyright and Related Rights (defined below) upon the creator</div><div>and subsequent owner(s) (each and all, an "owner") of an original work of</div><div>authorship and/or a database (each, a "Work").</div><div><br></div><div>Certain owners wish to permanently relinquish those rights to a Work for</div><div>the purpose of contributing to a commons of creative, cultural and</div><div>scientific works ("Commons") that the public can reliably and without fear</div><div>of later claims of infringement build upon, modify, incorporate in other</div><div>works, reuse and redistribute as freely as possible in any form whatsoever</div><div>and for any purposes, including without limitation commercial purposes.</div><div>These owners may contribute to the Commons to promote the ideal of a free</div><div>culture and the further production of creative, cultural and scientific</div><div>works, or to gain reputation or greater distribution for their Work in</div><div>part through the use and efforts of others.</div><div><br></div><div>For these and/or other purposes and motivations, and without any</div><div>expectation of additional consideration or compensation, the person</div><div>associating CC0 with a Work (the "Affirmer"), to the extent that he or she</div><div>is an owner of Copyright and Related Rights in the Work, voluntarily</div><div>elects to apply CC0 to the Work and publicly distribute the Work under its</div><div>terms, with knowledge of his or her Copyright and Related Rights in the</div><div>Work and the meaning and intended legal effect of CC0 on those rights.</div><div><br></div><div>1. Copyright and Related Rights. A Work made available under CC0 may be</div><div>protected by copyright and related or neighboring rights ("Copyright and</div><div>Related Rights"). Copyright and Related Rights include, but are not</div><div>limited to, the following:</div><div><br></div><div>&nbsp; i. the right to reproduce, adapt, distribute, perform, display,</div><div>&nbsp; &nbsp; &nbsp;communicate, and translate a Work;</div><div>&nbsp;ii. moral rights retained by the original author(s) and/or performer(s);</div><div>iii. publicity and privacy rights pertaining to a person's image or</div><div>&nbsp; &nbsp; &nbsp;likeness depicted in a Work;</div><div>&nbsp;iv. rights protecting against unfair competition in regards to a Work,</div><div>&nbsp; &nbsp; &nbsp;subject to the limitations in paragraph 4(a), below;</div><div>&nbsp; v. rights protecting the extraction, dissemination, use and reuse of data</div><div>&nbsp; &nbsp; &nbsp;in a Work;</div><div>&nbsp;vi. database rights (such as those arising under Directive 96/9/EC of the</div><div>&nbsp; &nbsp; &nbsp;European Parliament and of the Council of 11 March 1996 on the legal</div><div>&nbsp; &nbsp; &nbsp;protection of databases, and under any national implementation</div><div>&nbsp; &nbsp; &nbsp;thereof, including any amended or successor version of such</div><div>&nbsp; &nbsp; &nbsp;directive); and</div><div>vii. other similar, equivalent or corresponding rights throughout the</div><div>&nbsp; &nbsp; &nbsp;world based on applicable law or treaty, and any national</div><div>&nbsp; &nbsp; &nbsp;implementations thereof.</div><div><br></div><div>2. Waiver. To the greatest extent permitted by, but not in contravention</div><div>of, applicable law, Affirmer hereby overtly, fully, permanently,</div><div>irrevocably and unconditionally waives, abandons, and surrenders all of</div><div>Affirmer's Copyright and Related Rights and associated claims and causes</div><div>of action, whether now known or unknown (including existing as well as</div><div>future claims and causes of action), in the Work (i) in all territories</div><div>worldwide, (ii) for the maximum duration provided by applicable law or</div><div>treaty (including future time extensions), (iii) in any current or future</div><div>medium and for any number of copies, and (iv) for any purpose whatsoever,</div><div>including without limitation commercial, advertising or promotional</div><div>purposes (the "Waiver"). Affirmer makes the Waiver for the benefit of each</div><div>member of the public at large and to the detriment of Affirmer's heirs and</div><div>successors, fully intending that such Waiver shall not be subject to</div><div>revocation, rescission, cancellation, termination, or any other legal or</div><div>equitable action to disrupt the quiet enjoyment of the Work by the public</div><div>as contemplated by Affirmer's express Statement of Purpose.</div><div><br></div><div>3. Public License Fallback. Should any part of the Waiver for any reason</div><div>be judged legally invalid or ineffective under applicable law, then the</div><div>Waiver shall be preserved to the maximum extent permitted taking into</div><div>account Affirmer's express Statement of Purpose. In addition, to the</div><div>extent the Waiver is so judged Affirmer hereby grants to each affected</div><div>person a royalty-free, non transferable, non sublicensable, non exclusive,</div><div>irrevocable and unconditional license to exercise Affirmer's Copyright and</div><div>Related Rights in the Work (i) in all territories worldwide, (ii) for the</div><div>maximum duration provided by applicable law or treaty (including future</div><div>time extensions), (iii) in any current or future medium and for any number</div><div>of copies, and (iv) for any purpose whatsoever, including without</div><div>limitation commercial, advertising or promotional purposes (the</div><div>"License"). The License shall be deemed effective as of the date CC0 was</div><div>applied by Affirmer to the Work. Should any part of the License for any</div><div>reason be judged legally invalid or ineffective under applicable law, such</div><div>partial invalidity or ineffectiveness shall not invalidate the remainder</div><div>of the License, and in such case Affirmer hereby affirms that he or she</div><div>will not (i) exercise any of his or her remaining Copyright and Related</div><div>Rights in the Work or (ii) assert any associated claims and causes of</div><div>action with respect to the Work, in either case contrary to Affirmer's</div><div>express Statement of Purpose.</div><div><br></div><div>4. Limitations and Disclaimers.</div><div><br></div><div>&nbsp;a. No trademark or patent rights held by Affirmer are waived, abandoned,</div><div>&nbsp; &nbsp; surrendered, licensed or otherwise affected by this document.</div><div>&nbsp;b. Affirmer offers the Work as-is and makes no representations or</div><div>&nbsp; &nbsp; warranties of any kind concerning the Work, express, implied,</div><div>&nbsp; &nbsp; statutory or otherwise, including without limitation warranties of</div><div>&nbsp; &nbsp; title, merchantability, fitness for a particular purpose, non</div><div>&nbsp; &nbsp; infringement, or the absence of latent or other defects, accuracy, or</div><div>&nbsp; &nbsp; the present or absence of errors, whether or not discoverable, all to</div><div>&nbsp; &nbsp; the greatest extent permissible under applicable law.</div><div>&nbsp;c. Affirmer disclaims responsibility for clearing rights of other persons</div><div>&nbsp; &nbsp; that may apply to the Work or any use thereof, including without</div><div>&nbsp; &nbsp; limitation any person's Copyright and Related Rights in the Work.</div><div>&nbsp; &nbsp; Further, Affirmer disclaims responsibility for obtaining any necessary</div><div>&nbsp; &nbsp; consents, permissions or other rights required for any use of the</div><div>&nbsp; &nbsp; Work.</div><div>&nbsp;d. Affirmer understands and acknowledges that Creative Commons is not a</div><div>&nbsp; &nbsp; party to this document and has no duty or obligation with respect to</div><div>&nbsp; &nbsp; this CC0 or use of the Work.</div><div><br></div></td>
            </tr>
          </table>
        </section>
    </mi-presentacion>
  </body>
  <script type="module" src="lib/comun.js"></script>
</html>